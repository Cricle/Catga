<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Catga - é«˜æ€§èƒ½ .NET CQRS/Event Sourcing æ¡†æ¶ï¼Œæ”¯æŒ Native AOT">
    <meta name="keywords" content="Catga, CQRS, Event Sourcing, .NET, C#, Mediator, Native AOT, High Performance">
    <meta name="author" content="Catga Team">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <title>Catga - ç°ä»£åŒ– .NET CQRS æ¡†æ¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #512BD4;
            --secondary-color: #6C63FF;
            --accent-color: #00D9FF;
            --text-color: #2D3748;
            --text-light: #718096;
            --bg-light: #F7FAFC;
            --bg-white: #FFFFFF;
            --border-color: #E2E8F0;
            --success-color: #48BB78;
            --warning-color: #F59E0B;
            --info-color: #3B82F6;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        header {
            background: var(--bg-white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        /* Hero Section */
        .hero {
            background: var(--gradient);
            color: white;
            padding: 6rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 3rem 0 2rem;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            display: block;
            margin-bottom: 0.5rem;
        }

        .hero-stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.9rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
            font-size: 1rem;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background: white;
            color: var(--primary-color);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Section Styles */
        .section {
            padding: 5rem 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Learning Path */
        .learning-path {
            background: var(--bg-white);
        }

        .path-steps {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .path-step {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 2rem;
            display: flex;
            gap: 2rem;
            align-items: flex-start;
            transition: all 0.3s;
            border: 2px solid transparent;
            cursor: pointer;
        }

        .path-step:hover {
            border-color: var(--primary-color);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .path-step.active {
            background: var(--bg-white);
            border-color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(81, 43, 212, 0.2);
        }

        .step-number {
            flex-shrink: 0;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 1.5rem;
            color: var(--text-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .step-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-beginner {
            background: #DEF7EC;
            color: #03543F;
        }

        .badge-intermediate {
            background: #FEF3C7;
            color: #92400E;
        }

        .badge-advanced {
            background: #FEE2E2;
            color: #991B1B;
        }

        .badge-expert {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .step-description {
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .step-details {
            display: none;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 2px solid var(--border-color);
        }

        .step-details.show {
            display: block;
        }

        .step-meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .step-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .step-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .topic-tag {
            background: var(--bg-white);
            border: 1px solid var(--border-color);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--text-color);
        }

        .step-action {
            margin-top: 1rem;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: var(--bg-white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .feature-card p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* Use Cases */
        .use-cases {
            background: var(--bg-white);
        }

        .use-case-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .use-case-tab {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            background: var(--bg-light);
            color: var(--text-color);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .use-case-tab:hover {
            border-color: var(--primary-color);
        }

        .use-case-tab.active {
            background: var(--primary-color);
            color: white;
        }

        .use-case-content {
            display: none;
            background: var(--bg-light);
            border-radius: 12px;
            padding: 3rem;
        }

        .use-case-content.active {
            display: block;
        }

        .use-case-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: start;
        }

        .use-case-description h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .use-case-description p {
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .use-case-benefits {
            list-style: none;
        }

        .use-case-benefits li {
            padding: 0.5rem 0;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .use-case-benefits li:before {
            content: "âœ“";
            color: var(--success-color);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .use-case-code {
            background: #1E293B;
            border-radius: 8px;
            padding: 1.5rem;
            overflow-x: auto;
        }

        .use-case-code pre {
            color: #E2E8F0;
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 0;
        }

        /* Architecture Evolution */
        .architecture-evolution {
            background: var(--bg-white);
        }

        .evolution-timeline {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }

        .evolution-timeline:before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--gradient);
        }

        .evolution-step {
            position: relative;
            padding-left: 80px;
            margin-bottom: 3rem;
        }

        .evolution-marker {
            position: absolute;
            left: 14px;
            top: 0;
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: white;
            border: 4px solid var(--primary-color);
        }

        .evolution-content {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 2rem;
        }

        .evolution-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .evolution-subtitle {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .evolution-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .evolution-feature {
            padding: 0.5rem;
            background: var(--bg-white);
            border-radius: 4px;
            font-size: 0.9rem;
        }

        /* Code Examples */
        .code-examples {
            background: var(--bg-light);
        }

        .code-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .code-tab {
            padding: 0.75rem 1.5rem;
            border-radius: 8px 8px 0 0;
            background: var(--bg-white);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            border: 2px solid transparent;
        }

        .code-tab:hover {
            border-color: var(--primary-color);
        }

        .code-tab.active {
            background: #1E293B;
            color: white;
        }

        .code-panel {
            display: none;
            background: #1E293B;
            border-radius: 0 12px 12px 12px;
            padding: 2rem;
            overflow-x: auto;
        }

        .code-panel.active {
            display: block;
        }

        .code-panel pre {
            color: #E2E8F0;
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 0;
        }

        .code-comment { color: #94A3B8; }
        .code-keyword { color: #C792EA; }
        .code-string { color: #C3E88D; }
        .code-type { color: #82AAFF; }
        .code-number { color: #F78C6C; }

        /* Comparison */
        .comparison {
            background: var(--bg-white);
        }

        .comparison-table {
            max-width: 1000px;
            margin: 0 auto;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        th {
            background: var(--gradient);
            color: white;
            padding: 1.5rem 1rem;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 1.25rem 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--bg-light);
        }

        .check-yes {
            color: var(--success-color);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .check-no {
            color: var(--text-light);
            font-size: 1.2rem;
        }

        /* Animation Demo */
        .animation-demo {
            background: var(--bg-white);
        }

        .demo-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .demo-tab {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            background: var(--bg-light);
            color: var(--text-color);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .demo-tab:hover {
            border-color: var(--primary-color);
        }

        .demo-tab.active {
            background: var(--primary-color);
            color: white;
        }

        .demo-content {
            display: none;
        }

        .demo-content.active {
            display: block;
        }

        .demo-container {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 3rem;
            min-height: 500px;
        }

        .demo-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .demo-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            background: var(--primary-color);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(81, 43, 212, 0.3);
        }

        .demo-btn:disabled {
            background: var(--text-light);
            cursor: not-allowed;
            transform: none;
        }

        .demo-btn.secondary {
            background: var(--bg-white);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        /* Animation Canvas */
        .animation-canvas {
            position: relative;
            height: 400px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        /* Nodes */
        .node {
            position: absolute;
            width: 120px;
            padding: 1rem;
            background: white;
            border: 3px solid var(--primary-color);
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s;
            z-index: 10;
        }

        .node.active {
            background: var(--primary-color);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(81, 43, 212, 0.4);
        }

        .node.success {
            background: var(--success-color);
            border-color: var(--success-color);
            color: white;
        }

        .node-label {
            font-size: 0.85rem;
            margin-top: 0.5rem;
            opacity: 0.8;
        }

        /* Messages */
        .message {
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            opacity: 0;
            z-index: 20;
        }

        .message.animating {
            animation: moveMessage 2s ease-in-out;
        }

        @keyframes moveMessage {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            20% {
                opacity: 1;
                transform: scale(1);
            }
            80% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        /* Connection Lines */
        .connection {
            position: absolute;
            height: 3px;
            background: var(--border-color);
            transform-origin: left center;
            z-index: 1;
        }

        .connection.active {
            background: var(--accent-color);
            box-shadow: 0 0 10px var(--accent-color);
        }

        /* Flow Arrows */
        .arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 12px solid var(--border-color);
            z-index: 2;
        }

        .arrow.active {
            border-bottom-color: var(--accent-color);
        }

        /* Timeline */
        .demo-timeline {
            margin-top: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            max-height: 200px;
            overflow-y: auto;
        }

        .timeline-item {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: var(--bg-light);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            opacity: 0;
            transform: translateX(-20px);
            animation: slideIn 0.3s ease-out forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .timeline-item .time {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 0.25rem;
        }

        .timeline-item .action {
            font-weight: 600;
            color: var(--text-color);
        }

        .timeline-item.success {
            border-left-color: var(--success-color);
        }

        .timeline-item.error {
            border-left-color: #EF4444;
        }

        /* Stats Section */
        .stats {
            background: var(--gradient);
            color: white;
            padding: 4rem 2rem;
        }

        .stats-grid {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            text-align: center;
        }

        .stat-item h3 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .stat-item p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Footer */
        footer {
            background: var(--text-color);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        footer a {
            color: var(--accent-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Mobile Navigation */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            color: var(--text-color);
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            padding: 2rem;
            overflow-y: auto;
        }

        .mobile-nav.active {
            display: flex;
            flex-direction: column;
        }

        .mobile-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            font-size: 2rem;
            color: white;
            cursor: pointer;
        }

        .mobile-nav-links {
            list-style: none;
            padding: 0;
        }

        .mobile-nav-links li {
            margin-bottom: 1.5rem;
        }

        .mobile-nav-links a {
            color: white;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 600;
            display: block;
            padding: 1rem;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .mobile-nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .container {
                padding: 0 1.5rem;
            }

            .section {
                padding: 3rem 1.5rem;
            }

            .hero h1 {
                font-size: 3rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .demo-container {
                padding: 2rem;
            }

            .animation-canvas {
                height: 350px;
            }

            .node {
                width: 100px;
                padding: 0.75rem;
                font-size: 0.85rem;
            }

            .message {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 768px) {
            /* Typography */
            body {
                font-size: 14px;
            }

            .hero h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .hero-stats {
                gap: 1.5rem;
            }

            .hero-stat-value {
                font-size: 2rem;
            }

            .hero-stat-label {
                font-size: 0.9rem;
            }

            .section-title {
                font-size: 1.75rem;
            }

            .section-subtitle {
                font-size: 1rem;
                padding: 0 1rem;
            }

            /* Header & Navigation */
            nav {
                padding: 1rem;
            }

            .logo {
                font-size: 1.5rem;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            /* Buttons */
            .btn {
                padding: 0.75rem 1.5rem;
                font-size: 0.9rem;
            }

            .cta-buttons {
                flex-direction: column;
                padding: 0 1rem;
                width: 100%;
            }

            .cta-buttons .btn {
                width: 100%;
                max-width: 300px;
            }

            /* Demo Section */
            .demo-tabs {
                gap: 0.5rem;
                padding: 0 0.5rem;
            }

            .demo-tab {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }

            .demo-container {
                padding: 1.5rem 1rem;
                min-height: 400px;
            }

            .demo-controls {
                flex-direction: column;
                gap: 0.75rem;
            }

            .demo-btn {
                width: 100%;
                max-width: 200px;
            }

            .animation-canvas {
                height: 300px;
            }

            .node {
                width: 80px;
                padding: 0.5rem;
                font-size: 0.75rem;
                border-width: 2px;
            }

            .node-label {
                font-size: 0.7rem;
            }

            .message {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }

            .demo-timeline {
                max-height: 150px;
                padding: 1rem;
            }

            .timeline-item {
                padding: 0.5rem;
                font-size: 0.85rem;
            }

            /* Learning Path */
            .path-step {
                flex-direction: column;
                padding: 1.5rem;
                gap: 1rem;
            }

            .step-number {
                align-self: flex-start;
                width: 50px;
                height: 50px;
                font-size: 1.25rem;
            }

            .step-title {
                font-size: 1.25rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .step-description {
                font-size: 0.9rem;
            }

            .step-meta {
                flex-direction: column;
                gap: 0.5rem;
            }

            .step-topics {
                gap: 0.35rem;
            }

            .topic-tag {
                font-size: 0.75rem;
                padding: 0.2rem 0.6rem;
            }

            .step-action {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .step-action .btn {
                width: 100%;
            }

            /* Features */
            .features-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .feature-card {
                padding: 1.5rem;
            }

            .feature-icon {
                font-size: 2.5rem;
            }

            .feature-card h3 {
                font-size: 1.25rem;
            }

            /* Use Cases */
            .use-case-tabs {
                gap: 0.5rem;
                padding: 0 0.5rem;
            }

            .use-case-tab {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
                flex: 1;
                min-width: 0;
            }

            .use-case-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .use-case-description h3 {
                font-size: 1.5rem;
            }

            .use-case-description p {
                font-size: 0.9rem;
            }

            .use-case-code {
                padding: 1rem;
                overflow-x: auto;
            }

            .use-case-code pre {
                font-size: 0.75rem;
            }

            /* Architecture Evolution */
            .evolution-timeline:before {
                left: 20px;
            }

            .evolution-step {
                padding-left: 60px;
                margin-bottom: 2rem;
            }

            .evolution-marker {
                left: 9px;
                width: 24px;
                height: 24px;
                border-width: 3px;
            }

            .evolution-content {
                padding: 1.5rem;
            }

            .evolution-title {
                font-size: 1.25rem;
            }

            .evolution-subtitle {
                font-size: 0.9rem;
            }

            .evolution-features {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .evolution-feature {
                font-size: 0.85rem;
            }

            /* Code Examples */
            .code-tabs {
                gap: 0.35rem;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .code-tab {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
                white-space: nowrap;
                flex-shrink: 0;
            }

            .code-panel {
                padding: 1rem;
                border-radius: 8px;
            }

            .code-panel pre {
                font-size: 0.75rem;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            /* Comparison Table */
            .comparison-table {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: 0.75rem 0.5rem;
                white-space: nowrap;
            }

            /* Stats */
            .stats {
                padding: 3rem 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .stat-item h3 {
                font-size: 2rem;
            }

            .stat-item p {
                font-size: 0.9rem;
            }

            /* Footer */
            footer {
                padding: 2rem 1rem;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 1.75rem;
            }

            .hero p {
                font-size: 0.9rem;
            }

            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .demo-tab {
                padding: 0.5rem 0.75rem;
                font-size: 0.75rem;
            }

            .animation-canvas {
                height: 250px;
            }

            .node {
                width: 70px;
                padding: 0.4rem;
                font-size: 0.7rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .use-case-tab {
                font-size: 0.75rem;
                padding: 0.5rem 0.75rem;
            }
        }

        /* Touch Improvements */
        @media (hover: none) and (pointer: coarse) {
            /* Larger touch targets */
            .btn,
            .demo-btn,
            .demo-tab,
            .use-case-tab,
            .code-tab {
                min-height: 44px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }

            /* Remove hover effects on touch devices */
            .btn:hover,
            .demo-btn:hover,
            .feature-card:hover,
            .path-step:hover {
                transform: none;
            }

            /* Better tap highlighting */
            * {
                -webkit-tap-highlight-color: rgba(81, 43, 212, 0.2);
            }
        }

        /* Landscape Mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                padding: 3rem 2rem;
            }

            .animation-canvas {
                height: 250px;
            }

            .demo-container {
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo">âš¡ Catga</div>
            <ul class="nav-links">
                <li><a href="#demo">åŠ¨ç”»æ¼”ç¤º</a></li>
                <li><a href="#learning">å­¦ä¹ è·¯å¾„</a></li>
                <li><a href="#use-cases">ä½¿ç”¨åœºæ™¯</a></li>
                <li><a href="#examples">ç¤ºä¾‹</a></li>
                <li><a href="https://github.com/Cricle/Catga" target="_blank">GitHub</a></li>
            </ul>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
        </nav>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-header">
            <div class="logo">âš¡ Catga</div>
            <button class="mobile-nav-close" onclick="toggleMobileMenu()">âœ•</button>
        </div>
        <ul class="mobile-nav-links">
            <li><a href="#demo" onclick="toggleMobileMenu()">ğŸ¬ åŠ¨ç”»æ¼”ç¤º</a></li>
            <li><a href="#learning" onclick="toggleMobileMenu()">ğŸ“ å­¦ä¹ è·¯å¾„</a></li>
            <li><a href="#use-cases" onclick="toggleMobileMenu()">ğŸ’¼ ä½¿ç”¨åœºæ™¯</a></li>
            <li><a href="#examples" onclick="toggleMobileMenu()">ğŸ’» ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="https://github.com/Cricle/Catga" target="_blank">ğŸ’» GitHub</a></li>
            <li><a href="../articles/getting-started.html">ğŸ“š å®Œæ•´æ–‡æ¡£</a></li>
        </ul>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <h1>âš¡ Catga</h1>
        <p>ç°ä»£åŒ–ã€é«˜æ€§èƒ½çš„ .NET CQRS/Event Sourcing æ¡†æ¶<br>æ”¯æŒ Native AOTï¼Œé›¶åå°„ï¼Œç”Ÿäº§å°±ç»ª</p>

        <div class="hero-stats">
            <div class="hero-stat">
                <span class="hero-stat-value">&lt; 1Î¼s</span>
                <span class="hero-stat-label">å‘½ä»¤å¤„ç†å»¶è¿Ÿ</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-value">1M+</span>
                <span class="hero-stat-label">æ¯ç§’ååé‡</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-value">100%</span>
                <span class="hero-stat-label">AOT å…¼å®¹</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-value">194</span>
                <span class="hero-stat-label">æµ‹è¯•è¦†ç›–</span>
            </div>
        </div>

        <div class="cta-buttons">
            <a href="#learning" class="btn btn-primary">å¼€å§‹å­¦ä¹  â†’</a>
            <a href="https://github.com/Cricle/Catga" class="btn btn-secondary">æŸ¥çœ‹æºç </a>
            <a href="../articles/getting-started.html" class="btn btn-secondary">å®Œæ•´æ–‡æ¡£</a>
        </div>
    </section>

    <!-- Animation Demo Section -->
    <section id="demo" class="section animation-demo">
        <div class="container">
            <h2 class="section-title">ğŸ¬ åŠ¨ç”»æ¼”ç¤º</h2>
            <p class="section-subtitle">ç›´è§‚äº†è§£ Catga æ ¸å¿ƒæµç¨‹å¦‚ä½•è¿è½¬</p>

            <div class="demo-tabs">
                <div class="demo-tab active" onclick="switchDemo(0)">CQRS æµç¨‹</div>
                <div class="demo-tab" onclick="switchDemo(1)">äº‹ä»¶é©±åŠ¨</div>
                <div class="demo-tab" onclick="switchDemo(2)">Outbox æ¨¡å¼</div>
                <div class="demo-tab" onclick="switchDemo(3)">åˆ†å¸ƒå¼è¿½è¸ª</div>
            </div>

            <!-- Demo 1: CQRS Flow -->
            <div class="demo-content active">
                <div class="demo-container">
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="startCQRSDemo()">â–¶ï¸ æ’­æ”¾</button>
                        <button class="demo-btn secondary" onclick="resetCQRSDemo()">ğŸ”„ é‡ç½®</button>
                    </div>
                    <div id="cqrs-canvas" class="animation-canvas"></div>
                    <div id="cqrs-timeline" class="demo-timeline"></div>
                </div>
            </div>

            <!-- Demo 2: Event-Driven -->
            <div class="demo-content">
                <div class="demo-container">
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="startEventDemo()">â–¶ï¸ æ’­æ”¾</button>
                        <button class="demo-btn secondary" onclick="resetEventDemo()">ğŸ”„ é‡ç½®</button>
                    </div>
                    <div id="event-canvas" class="animation-canvas"></div>
                    <div id="event-timeline" class="demo-timeline"></div>
                </div>
            </div>

            <!-- Demo 3: Outbox Pattern -->
            <div class="demo-content">
                <div class="demo-container">
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="startOutboxDemo()">â–¶ï¸ æ’­æ”¾</button>
                        <button class="demo-btn secondary" onclick="resetOutboxDemo()">ğŸ”„ é‡ç½®</button>
                    </div>
                    <div id="outbox-canvas" class="animation-canvas"></div>
                    <div id="outbox-timeline" class="demo-timeline"></div>
                </div>
            </div>

            <!-- Demo 4: Distributed Tracing -->
            <div class="demo-content">
                <div class="demo-container">
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="startTracingDemo()">â–¶ï¸ æ’­æ”¾</button>
                        <button class="demo-btn secondary" onclick="resetTracingDemo()">ğŸ”„ é‡ç½®</button>
                    </div>
                    <div id="tracing-canvas" class="animation-canvas"></div>
                    <div id="tracing-timeline" class="demo-timeline"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Learning Path Section -->
    <section id="learning" class="section learning-path">
        <div class="container">
            <h2 class="section-title">ğŸ“ å¤šæ­¥è¿›é˜¶å­¦ä¹ è·¯å¾„</h2>
            <p class="section-subtitle">ä»é›¶åŸºç¡€åˆ°æ¶æ„ä¸“å®¶ï¼Œç³»ç»ŸåŒ–æŒæ¡ Catga æ¡†æ¶å’Œ CQRS æ¶æ„</p>

            <div class="path-steps">
                <!-- Step 1: Beginner -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">
                            å¿«é€Ÿä¸Šæ‰‹
                            <span class="step-badge badge-beginner">åˆçº§</span>
                        </div>
                        <div class="step-description">
                            å­¦ä¹  Catga çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®Œæˆç¬¬ä¸€ä¸ª Hello World åº”ç”¨ã€‚ç†è§£ CQRS çš„åŸºæœ¬æ€æƒ³ï¼ŒæŒæ¡å‘½ä»¤ã€æŸ¥è¯¢å’Œäº‹ä»¶çš„åŒºåˆ«ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 1-2 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: C# åŸºç¡€ï¼ŒASP.NET Core</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 5 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">å®‰è£… NuGet åŒ…</span>
                                <span class="topic-tag">é…ç½®æœåŠ¡</span>
                                <span class="topic-tag">å®šä¹‰å‘½ä»¤</span>
                                <span class="topic-tag">å®ç° Handler</span>
                                <span class="topic-tag">å‘é€å‘½ä»¤</span>
                            </div>
                            <div class="step-action">
                                <a href="#step1-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/getting-started.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Beginner+ -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">
                            äº‹ä»¶é©±åŠ¨æ¶æ„
                            <span class="step-badge badge-beginner">åˆçº§+</span>
                        </div>
                        <div class="step-description">
                            æ·±å…¥ç†è§£äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œå­¦ä¹ å¦‚ä½•å‘å¸ƒå’Œè®¢é˜…äº‹ä»¶ã€‚æŒæ¡å¤šä¸ª Handler å¤„ç†åŒä¸€äº‹ä»¶çš„å¹¶å‘æ¨¡å¼ï¼Œç†è§£äº‹ä»¶çš„å¼‚æ­¥ç‰¹æ€§ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 2-3 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 1</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 7 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">å®šä¹‰äº‹ä»¶</span>
                                <span class="topic-tag">å‘å¸ƒäº‹ä»¶</span>
                                <span class="topic-tag">è®¢é˜…äº‹ä»¶</span>
                                <span class="topic-tag">å¤š Handler å¤„ç†</span>
                                <span class="topic-tag">äº‹ä»¶æº¯æºåŸºç¡€</span>
                                <span class="topic-tag">å¼‚å¸¸å¤„ç†</span>
                            </div>
                            <div class="step-action">
                                <a href="#step2-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/event-driven.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Intermediate -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="number">3</div>
                    <div class="step-content">
                        <div class="step-title">
                            ä¼ è¾“å±‚ä¸æŒä¹…åŒ–
                            <span class="step-badge badge-intermediate">ä¸­çº§</span>
                        </div>
                        <div class="step-description">
                            å­¦ä¹ å¦‚ä½•é›†æˆ Redis å’Œ NATS ä¼ è¾“å±‚ï¼Œç†è§£ QoS 0 å’Œ QoS 1 çš„åŒºåˆ«ã€‚æŒæ¡ Outbox/Inbox æ¨¡å¼ï¼Œç¡®ä¿æ¶ˆæ¯å¯é ä¼ é€’å’Œå¹‚ç­‰æ€§å¤„ç†ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 4-6 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 2ï¼Œäº†è§£ Redis/NATS</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 10 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">Redis Transport</span>
                                <span class="topic-tag">NATS Transport</span>
                                <span class="topic-tag">QoS 0 vs QoS 1</span>
                                <span class="topic-tag">Outbox æ¨¡å¼</span>
                                <span class="topic-tag">Inbox æ¨¡å¼</span>
                                <span class="topic-tag">å¹‚ç­‰æ€§ä¿è¯</span>
                                <span class="topic-tag">æ¶ˆæ¯é‡è¯•</span>
                                <span class="topic-tag">æ­»ä¿¡é˜Ÿåˆ—</span>
                            </div>
                            <div class="step-action">
                                <a href="#step3-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/transport-persistence.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Intermediate+ -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">
                            å¾®æœåŠ¡ä¸åˆ†å¸ƒå¼
                            <span class="step-badge badge-intermediate">ä¸­çº§+</span>
                        </div>
                        <div class="step-description">
                            æ„å»ºåˆ†å¸ƒå¼å¾®æœåŠ¡ç³»ç»Ÿï¼Œå­¦ä¹ æœåŠ¡é—´é€šä¿¡æ¨¡å¼ã€‚æŒæ¡åˆ†å¸ƒå¼è¿½è¸ªã€ç›‘æ§å’Œè¯Šæ–­ï¼Œä½¿ç”¨ OpenTelemetry å®ç°å¯è§‚æµ‹æ€§ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 6-8 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 3ï¼Œå¾®æœåŠ¡åŸºç¡€</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 12 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">æœåŠ¡æ‹†åˆ†</span>
                                <span class="topic-tag">RPC é€šä¿¡</span>
                                <span class="topic-tag">åˆ†å¸ƒå¼è¿½è¸ª</span>
                                <span class="topic-tag">OpenTelemetry</span>
                                <span class="topic-tag">å¥åº·æ£€æŸ¥</span>
                                <span class="topic-tag">æœåŠ¡å‘ç°</span>
                                <span class="topic-tag">ç†”æ–­é™çº§</span>
                                <span class="topic-tag">è´Ÿè½½å‡è¡¡</span>
                            </div>
                            <div class="step-action">
                                <a href="#step4-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/microservices.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Advanced -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <div class="step-title">
                            äº‹ä»¶æº¯æºä¸ CQRS è¿›é˜¶
                            <span class="step-badge badge-advanced">é«˜çº§</span>
                        </div>
                        <div class="step-description">
                            æ·±å…¥æŒæ¡ Event Sourcing å’Œ CQRS æ¨¡å¼ï¼Œå­¦ä¹ èšåˆæ ¹è®¾è®¡ã€å¿«ç…§æœºåˆ¶å’Œè¯»å†™åˆ†ç¦»ã€‚ç†è§£æœ€ç»ˆä¸€è‡´æ€§å’Œåˆ†å¸ƒå¼äº‹åŠ¡ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 8-12 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 4ï¼ŒDDD åŸºç¡€</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 15 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">Event Sourcing</span>
                                <span class="topic-tag">èšåˆæ ¹è®¾è®¡</span>
                                <span class="topic-tag">å¿«ç…§æœºåˆ¶</span>
                                <span class="topic-tag">äº‹ä»¶ç‰ˆæœ¬æ§åˆ¶</span>
                                <span class="topic-tag">è¯»å†™åˆ†ç¦»</span>
                                <span class="topic-tag">ç‰©åŒ–è§†å›¾</span>
                                <span class="topic-tag">æœ€ç»ˆä¸€è‡´æ€§</span>
                                <span class="topic-tag">Saga æ¨¡å¼</span>
                            </div>
                            <div class="step-action">
                                <a href="#step5-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/event-sourcing.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 6: Advanced+ -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <div class="step-title">
                            æ€§èƒ½ä¼˜åŒ–ä¸ AOT
                            <span class="step-badge badge-advanced">é«˜çº§+</span>
                        </div>
                        <div class="step-description">
                            æŒæ¡é«˜æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå­¦ä¹  Native AOT éƒ¨ç½²ã€‚ç†è§£é›¶åå°„ã€é›¶åˆ†é…çš„è®¾è®¡åŸåˆ™ï¼Œä½¿ç”¨ BenchmarkDotNet è¿›è¡Œæ€§èƒ½æµ‹è¯•ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 6-10 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 5ï¼Œæ€§èƒ½è°ƒä¼˜åŸºç¡€</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 12 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">Native AOT</span>
                                <span class="topic-tag">é›¶åå°„è®¾è®¡</span>
                                <span class="topic-tag">Source Generator</span>
                                <span class="topic-tag">ArrayPool ä¼˜åŒ–</span>
                                <span class="topic-tag">MemoryPack</span>
                                <span class="topic-tag">æ€§èƒ½åŸºå‡†æµ‹è¯•</span>
                                <span class="topic-tag">å†…å­˜è¯Šæ–­</span>
                                <span class="topic-tag">CPU åˆ†æ</span>
                            </div>
                            <div class="step-action">
                                <a href="#step6-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/aot-deployment.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 7: Expert -->
                <div class="path-step" onclick="toggleStep(this)">
                    <div class="step-number">7</div>
                    <div class="step-content">
                        <div class="step-title">
                            ç”Ÿäº§çº§æ¶æ„å®è·µ
                            <span class="step-badge badge-expert">ä¸“å®¶</span>
                        </div>
                        <div class="step-description">
                            æ„å»ºä¼ä¸šçº§ç”Ÿäº§ç³»ç»Ÿï¼ŒæŒæ¡é«˜å¯ç”¨ã€å®¹ç¾ã€å®‰å…¨ç­‰æ–¹é¢çš„æœ€ä½³å®è·µã€‚å­¦ä¹  .NET Aspire é›†æˆã€å¤šç§Ÿæˆ·ã€å®¡è®¡æ—¥å¿—ç­‰ä¼ä¸šåŠŸèƒ½ã€‚
                        </div>
                        <div class="step-details">
                            <div class="step-meta">
                                <div class="step-meta-item">â±ï¸ å­¦ä¹ æ—¶é—´: 10-15 å°æ—¶</div>
                                <div class="step-meta-item">ğŸ“š å‰ç½®çŸ¥è¯†: å®Œæˆæ­¥éª¤ 6ï¼Œç”Ÿäº§è¿ç»´ç»éªŒ</div>
                                <div class="step-meta-item">ğŸ¯ å®Œæˆåº¦: 18 ä¸ªä»»åŠ¡</div>
                            </div>
                            <div class="step-topics">
                                <span class="topic-tag">.NET Aspire</span>
                                <span class="topic-tag">é«˜å¯ç”¨æ¶æ„</span>
                                <span class="topic-tag">å®¹ç¾æ–¹æ¡ˆ</span>
                                <span class="topic-tag">å¤šç§Ÿæˆ·</span>
                                <span class="topic-tag">å®¡è®¡æ—¥å¿—</span>
                                <span class="topic-tag">å®‰å…¨åŠ å¯†</span>
                                <span class="topic-tag">GDPR åˆè§„</span>
                                <span class="topic-tag">æ··æ²Œå·¥ç¨‹</span>
                                <span class="topic-tag">å‹åŠ›æµ‹è¯•</span>
                                <span class="topic-tag">CI/CD</span>
                            </div>
                            <div class="step-action">
                                <a href="#step7-code" class="btn btn-primary">æŸ¥çœ‹ä»£ç ç¤ºä¾‹</a>
                                <a href="../articles/production-ready.html" class="btn btn-secondary">å®Œæ•´æ•™ç¨‹</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="section">
        <div class="container">
            <h2 class="section-title">ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h2>
            <p class="section-subtitle">å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¼˜é›…çš„ APIï¼Œç”Ÿäº§å°±ç»ªçš„æ¡†æ¶</p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸš€</div>
                    <h3>æè‡´æ€§èƒ½</h3>
                    <p>é›¶åå°„ã€é›¶åˆ†é…ã€Native AOT æ”¯æŒã€‚å‘½ä»¤å¤„ç† &lt; 1Î¼sï¼Œååé‡ &gt; 1M ops/sã€‚ArrayPool ä¼˜åŒ–ï¼ŒMemoryPack åºåˆ—åŒ–ã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ”Œ</div>
                    <h3>å¯æ’æ‹”æ¶æ„</h3>
                    <p>æ”¯æŒ Redisï¼ˆQoS 0/1ï¼‰ã€NATSã€InMemory ä¼ è¾“å±‚ã€‚è½»æ¾åˆ‡æ¢æŒä¹…åŒ–å’Œä¼ è¾“å®ç°ï¼Œé€‚åº”ä¸åŒåœºæ™¯éœ€æ±‚ã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ“¦</div>
                    <h3>Outbox/Inbox</h3>
                    <p>å†…ç½® Outbox å’Œ Inbox æ¨¡å¼ï¼Œç¡®ä¿æ¶ˆæ¯å¯é ä¼ é€’å’Œå¹‚ç­‰æ€§å¤„ç†ã€‚æ‰¹é‡å‘é€ä¼˜åŒ–ï¼Œæ­»ä¿¡é˜Ÿåˆ—æ”¯æŒã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ¨</div>
                    <h3>å¯è§‚æµ‹æ€§</h3>
                    <p>å®Œæ•´çš„åˆ†å¸ƒå¼è¿½è¸ªå’ŒæŒ‡æ ‡ç›‘æ§ã€‚æ”¯æŒ OpenTelemetryã€Jaegerã€Prometheusã€Grafanaã€‚W3C Trace Context æ ‡å‡†ã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">âš™ï¸</div>
                    <h3>Source Generator</h3>
                    <p>ç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆ Handler æ³¨å†Œä»£ç ã€‚é›¶é…ç½®ï¼Œé›¶è¿è¡Œæ—¶å¼€é”€ã€‚æ™ºèƒ½åˆ†æï¼Œè‡ªåŠ¨å‘ç° Handlerã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸŒ</div>
                    <h3>.NET Aspire</h3>
                    <p>æ·±åº¦é›†æˆ .NET Aspireã€‚ç»Ÿä¸€èµ„æºç®¡ç†ï¼ŒAspire Dashboard å¯è§†åŒ–ã€‚å¥åº·æ£€æŸ¥ï¼ŒæœåŠ¡å‘ç°ã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <h3>ç”Ÿäº§å°±ç»ª</h3>
                    <p>194 ä¸ªå•å…ƒæµ‹è¯•ï¼Œ100% é€šè¿‡ã€‚å®Œæ•´çš„å¼‚å¸¸å¤„ç†ï¼Œè¯¦ç»†çš„æ—¥å¿—è®°å½•ã€‚æ”¯æŒé‡è¯•ã€ç†”æ–­ã€é™æµã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ“š</div>
                    <h3>å®Œæ•´æ–‡æ¡£</h3>
                    <p>49 ä¸ªæ–‡æ¡£æ–‡ä»¶ï¼Œä»å…¥é—¨åˆ°ä¸“å®¶ã€‚ä»£ç ç¤ºä¾‹é½å…¨ï¼Œæœ€ä½³å®è·µæŒ‡å—ã€‚ä¸­è‹±æ–‡åŒè¯­æ”¯æŒï¼ˆè®¡åˆ’ä¸­ï¼‰ã€‚</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ğŸ› ï¸</div>
                    <h3>å¼€å‘ä½“éªŒ</h3>
                    <p>ä¼˜é›…çš„ Fluent APIï¼Œæ™ºèƒ½çš„ç±»å‹æ¨æ–­ã€‚è‡ªåŠ¨æ³¨å†Œ Handlerï¼Œé›¶æ ·æ¿ä»£ç ã€‚IDE å‹å¥½ï¼Œå®Œå–„çš„ IntelliSenseã€‚</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Use Cases Section -->
    <section id="use-cases" class="section use-cases">
        <div class="container">
            <h2 class="section-title">ğŸ’¼ ä½¿ç”¨åœºæ™¯</h2>
            <p class="section-subtitle">ä»ç”µå•†åˆ°é‡‘èï¼Œä» IoT åˆ°æ¸¸æˆï¼ŒCatga é€‚ç”¨äºå„ç§åœºæ™¯</p>

            <div class="use-case-tabs">
                <div class="use-case-tab active" onclick="switchUseCase(0)">ç”µå•†ç³»ç»Ÿ</div>
                <div class="use-case-tab" onclick="switchUseCase(1)">é‡‘èäº¤æ˜“</div>
                <div class="use-case-tab" onclick="switchUseCase(2)">ç‰©è”ç½‘</div>
                <div class="use-case-tab" onclick="switchUseCase(3)">æ¸¸æˆåç«¯</div>
            </div>

            <!-- E-Commerce -->
            <div class="use-case-content active">
                <div class="use-case-grid">
                    <div class="use-case-description">
                        <h3>ğŸ›’ ç”µå•†è®¢å•ç³»ç»Ÿ</h3>
                        <p>ä½¿ç”¨ Catga æ„å»ºé«˜æ€§èƒ½ç”µå•†ç³»ç»Ÿï¼Œæ”¯æŒè®¢å•å¤„ç†ã€åº“å­˜ç®¡ç†ã€æ”¯ä»˜é›†æˆã€‚Event Sourcing ç¡®ä¿è®¢å•çŠ¶æ€å¯è¿½æº¯ï¼ŒOutbox æ¨¡å¼ä¿è¯è®¢å•äº‹ä»¶å¯é å‘é€åˆ°ä¸‹æ¸¸ç³»ç»Ÿï¼ˆåº“å­˜ã€ç‰©æµã€é€šçŸ¥ï¼‰ã€‚</p>
                        <ul class="use-case-benefits">
                            <li>è®¢å•çŠ¶æ€å®Œæ•´è¿½æº¯</li>
                            <li>åº“å­˜æ‰£å‡å¹‚ç­‰æ€§ä¿è¯</li>
                            <li>æ”¯ä»˜å›è°ƒå¯é å¤„ç†</li>
                            <li>å®æ—¶åº“å­˜åŒæ­¥</li>
                            <li>é«˜å¹¶å‘ç§’æ€æ”¯æŒ</li>
                        </ul>
                    </div>
                    <div class="use-case-code">
                        <pre><code><span class="code-comment">// åˆ›å»ºè®¢å•å‘½ä»¤</span>
<span class="code-keyword">var</span> command = <span class="code-keyword">new</span> <span class="code-type">CreateOrderCommand</span>(
    ProductId: <span class="code-string">"prod-123"</span>,
    Quantity: <span class="code-number">5</span>,
    UserId: <span class="code-string">"user-456"</span>
);

<span class="code-comment">// å‘é€å‘½ä»¤åˆ°è®¢å•æœåŠ¡</span>
<span class="code-keyword">var</span> result = <span class="code-keyword">await</span> mediator.SendAsync&lt;
    <span class="code-type">CreateOrderCommand</span>,
    <span class="code-type">Order</span>
&gt;(command);

<span class="code-keyword">if</span> (result.IsSuccess)
{
    <span class="code-comment">// è‡ªåŠ¨å‘å¸ƒ OrderCreatedEvent</span>
    <span class="code-comment">// â†’ åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜</span>
    <span class="code-comment">// â†’ é€šçŸ¥æœåŠ¡å‘é€ç¡®è®¤é‚®ä»¶</span>
    <span class="code-comment">// â†’ ç‰©æµæœåŠ¡åˆ›å»ºå‘è´§å•</span>
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Finance -->
            <div class="use-case-content">
                <div class="use-case-grid">
                    <div class="use-case-description">
                        <h3>ğŸ’° é‡‘èäº¤æ˜“ç³»ç»Ÿ</h3>
                        <p>æ„å»ºé«˜å¯é é‡‘èäº¤æ˜“å¹³å°ï¼Œæ”¯æŒè½¬è´¦ã€æ”¯ä»˜ã€é£æ§ã€‚Event Sourcing æä¾›å®Œæ•´çš„å®¡è®¡æ—¥å¿—ï¼Œæ¯ç¬”äº¤æ˜“å¯è¿½æº¯ã€‚Saga æ¨¡å¼å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œç¡®ä¿è´¦æˆ·ä½™é¢ä¸€è‡´æ€§ã€‚</p>
                        <ul class="use-case-benefits">
                            <li>äº¤æ˜“è®°å½•ä¸å¯ç¯¡æ”¹</li>
                            <li>åˆ†å¸ƒå¼äº‹åŠ¡ä¸€è‡´æ€§</li>
                            <li>å®æ—¶é£æ§æ£€æµ‹</li>
                            <li>è´¦æˆ·ä½™é¢ç²¾ç¡®è®¡ç®—</li>
                            <li>å®¡è®¡æ—¥å¿—å®Œæ•´æ€§</li>
                        </ul>
                    </div>
                    <div class="use-case-code">
                        <pre><code><span class="code-comment">// è½¬è´¦å‘½ä»¤</span>
<span class="code-keyword">var</span> command = <span class="code-keyword">new</span> <span class="code-type">TransferMoneyCommand</span>(
    FromAccount: <span class="code-string">"acc-001"</span>,
    ToAccount: <span class="code-string">"acc-002"</span>,
    Amount: <span class="code-number">1000.00m</span>,
    Currency: <span class="code-string">"USD"</span>
);

<span class="code-comment">// Saga æ¨¡å¼å¤„ç†</span>
<span class="code-comment">// 1. å†»ç»“æºè´¦æˆ·é‡‘é¢</span>
<span class="code-comment">// 2. é£æ§æ£€æµ‹</span>
<span class="code-comment">// 3. æ‰£å‡æºè´¦æˆ·</span>
<span class="code-comment">// 4. å¢åŠ ç›®æ ‡è´¦æˆ·</span>
<span class="code-comment">// 5. å‘é€é€šçŸ¥</span>
<span class="code-keyword">var</span> result = <span class="code-keyword">await</span> mediator.SendAsync&lt;
    <span class="code-type">TransferMoneyCommand</span>,
    <span class="code-type">Transaction</span>
&gt;(command);</code></pre>
                    </div>
                </div>
            </div>

            <!-- IoT -->
            <div class="use-case-content">
                <div class="use-case-grid">
                    <div class="use-case-description">
                        <h3>ğŸ“¡ ç‰©è”ç½‘å¹³å°</h3>
                        <p>å¤„ç†æµ·é‡è®¾å¤‡æ•°æ®ä¸ŠæŠ¥ï¼Œæ”¯æŒå®æ—¶å‘Šè­¦ã€æ•°æ®åˆ†æã€‚NATS ä¼ è¾“å±‚æä¾›ä½å»¶è¿Ÿæ¶ˆæ¯ä¼ é€’ï¼ŒQoS 1 ç¡®ä¿å…³é”®æ•°æ®ä¸ä¸¢å¤±ã€‚Event Sourcing å­˜å‚¨è®¾å¤‡çŠ¶æ€å†å²ï¼Œæ”¯æŒæ—¶åºæŸ¥è¯¢ã€‚</p>
                        <ul class="use-case-benefits">
                            <li>ç™¾ä¸‡è®¾å¤‡å¹¶å‘è¿æ¥</li>
                            <li>æ¯«ç§’çº§æ•°æ®ä¸ŠæŠ¥</li>
                            <li>å®æ—¶å‘Šè­¦è§¦å‘</li>
                            <li>è®¾å¤‡çŠ¶æ€è¿½æº¯</li>
                            <li>æ•°æ®èšåˆåˆ†æ</li>
                        </ul>
                    </div>
                    <div class="use-case-code">
                        <pre><code><span class="code-comment">// è®¾å¤‡æ•°æ®ä¸ŠæŠ¥äº‹ä»¶</span>
<span class="code-keyword">var</span> @event = <span class="code-keyword">new</span> <span class="code-type">DeviceDataReportedEvent</span>(
    DeviceId: <span class="code-string">"device-12345"</span>,
    Temperature: <span class="code-number">85.5</span>,
    Humidity: <span class="code-number">60.2</span>,
    Timestamp: DateTime.UtcNow
);

<span class="code-comment">// å‘å¸ƒäº‹ä»¶ (NATS QoS 1)</span>
<span class="code-keyword">await</span> mediator.PublishAsync(@event);

<span class="code-comment">// è‡ªåŠ¨è§¦å‘å¤šä¸ª Handler:</span>
<span class="code-comment">// â†’ å‘Šè­¦æœåŠ¡æ£€æµ‹å¼‚å¸¸æ¸©åº¦</span>
<span class="code-comment">// â†’ å­˜å‚¨æœåŠ¡å†™å…¥æ—¶åºæ•°æ®åº“</span>
<span class="code-comment">// â†’ åˆ†ææœåŠ¡æ›´æ–°å®æ—¶ç»Ÿè®¡</span></code></pre>
                    </div>
                </div>
            </div>

            <!-- Gaming -->
            <div class="use-case-content">
                <div class="use-case-grid">
                    <div class="use-case-description">
                        <h3>ğŸ® æ¸¸æˆåç«¯æœåŠ¡</h3>
                        <p>æ„å»ºä½å»¶è¿Ÿæ¸¸æˆæœåŠ¡å™¨ï¼Œæ”¯æŒç©å®¶æ“ä½œã€æˆ˜æ–—è®¡ç®—ã€æ’è¡Œæ¦œã€‚Redis ä¼ è¾“å±‚æä¾›æ¯«ç§’çº§å“åº”ï¼ŒInMemory ç¼“å­˜ä¼˜åŒ–çƒ­ç‚¹æ•°æ®ã€‚Event Sourcing è®°å½•ç©å®¶è¡Œä¸ºï¼Œæ”¯æŒå›æ”¾å’Œä½œå¼Šæ£€æµ‹ã€‚</p>
                        <ul class="use-case-benefits">
                            <li>æ¯«ç§’çº§å“åº”å»¶è¿Ÿ</li>
                            <li>ç™¾ä¸‡ç©å®¶åœ¨çº¿</li>
                            <li>å®æ—¶æ’è¡Œæ¦œæ›´æ–°</li>
                            <li>ç©å®¶è¡Œä¸ºå›æ”¾</li>
                            <li>ä½œå¼Šæ£€æµ‹åˆ†æ</li>
                        </ul>
                    </div>
                    <div class="use-case-code">
                        <pre><code><span class="code-comment">// ç©å®¶æ”»å‡»å‘½ä»¤</span>
<span class="code-keyword">var</span> command = <span class="code-keyword">new</span> <span class="code-type">PlayerAttackCommand</span>(
    AttackerId: <span class="code-string">"player-001"</span>,
    TargetId: <span class="code-string">"player-002"</span>,
    SkillId: <span class="code-string">"skill-fireball"</span>,
    Position: <span class="code-keyword">new</span> Vector3(<span class="code-number">100</span>, <span class="code-number">50</span>, <span class="code-number">200</span>)
);

<span class="code-comment">// æˆ˜æ–—æœåŠ¡å¤„ç† (< 1Î¼s)</span>
<span class="code-keyword">var</span> result = <span class="code-keyword">await</span> mediator.SendAsync&lt;
    <span class="code-type">PlayerAttackCommand</span>,
    <span class="code-type">AttackResult</span>
&gt;(command);

<span class="code-comment">// å¹¿æ’­äº‹ä»¶åˆ°æˆ¿é—´å†…æ‰€æœ‰ç©å®¶</span></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture Evolution -->
    <section class="section architecture-evolution">
        <div class="container">
            <h2 class="section-title">ğŸ—ï¸ æ¶æ„æ¼”è¿›è·¯å¾„</h2>
            <p class="section-subtitle">ä»å•ä½“åˆ°åˆ†å¸ƒå¼ï¼Œä»ç®€å•åˆ°å¤æ‚ï¼Œå¾ªåºæ¸è¿›æ„å»ºç³»ç»Ÿ</p>

            <div class="evolution-timeline">
                <!-- Stage 1 -->
                <div class="evolution-step">
                    <div class="evolution-marker"></div>
                    <div class="evolution-content">
                        <h3 class="evolution-title">é˜¶æ®µ 1: å•ä½“åº”ç”¨ + InMemory</h3>
                        <p class="evolution-subtitle">å¿«é€Ÿå¼€å‘ï¼Œæœ¬åœ°è°ƒè¯•ï¼Œé€‚åˆåˆæœŸ MVP</p>
                        <div class="evolution-features">
                            <div class="evolution-feature">âœ… å¿«é€Ÿå¯åŠ¨</div>
                            <div class="evolution-feature">âœ… é›¶ä¾èµ–</div>
                            <div class="evolution-feature">âœ… ç®€å•è°ƒè¯•</div>
                            <div class="evolution-feature">âœ… å•æœºéƒ¨ç½²</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 2 -->
                <div class="evolution-step">
                    <div class="evolution-marker"></div>
                    <div class="evolution-content">
                        <h3 class="evolution-title">é˜¶æ®µ 2: å•ä½“åº”ç”¨ + Redis</h3>
                        <p class="evolution-subtitle">å¢åŠ æŒä¹…åŒ–ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•</p>
                        <div class="evolution-features">
                            <div class="evolution-feature">âœ… å¤šå®ä¾‹éƒ¨ç½²</div>
                            <div class="evolution-feature">âœ… æ¶ˆæ¯æŒä¹…åŒ–</div>
                            <div class="evolution-feature">âœ… è´Ÿè½½å‡è¡¡</div>
                            <div class="evolution-feature">âœ… ç¼“å­˜ä¼˜åŒ–</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 3 -->
                <div class="evolution-step">
                    <div class="evolution-marker"></div>
                    <div class="evolution-content">
                        <h3 class="evolution-title">é˜¶æ®µ 3: å¾®æœåŠ¡ + NATS</h3>
                        <p class="evolution-subtitle">æœåŠ¡æ‹†åˆ†ï¼Œä½å»¶è¿Ÿé€šä¿¡</p>
                        <div class="evolution-features">
                            <div class="evolution-feature">âœ… æœåŠ¡ç‹¬ç«‹éƒ¨ç½²</div>
                            <div class="evolution-feature">âœ… æ¯«ç§’çº§å»¶è¿Ÿ</div>
                            <div class="evolution-feature">âœ… æœåŠ¡å‘ç°</div>
                            <div class="evolution-feature">âœ… å®¹é”™å¤„ç†</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 4 -->
                <div class="evolution-step">
                    <div class="evolution-marker"></div>
                    <div class="evolution-content">
                        <h3 class="evolution-title">é˜¶æ®µ 4: äº‹ä»¶æº¯æº + CQRS</h3>
                        <p class="evolution-subtitle">è¯»å†™åˆ†ç¦»ï¼Œå®Œæ•´å®¡è®¡</p>
                        <div class="evolution-features">
                            <div class="evolution-feature">âœ… äº‹ä»¶æº¯æº</div>
                            <div class="evolution-feature">âœ… è¯»å†™åˆ†ç¦»</div>
                            <div class="evolution-feature">âœ… å®¡è®¡æ—¥å¿—</div>
                            <div class="evolution-feature">âœ… æ—¶é—´æ—…è¡Œ</div>
                        </div>
                    </div>
                </div>

                <!-- Stage 5 -->
                <div class="evolution-step">
                    <div class="evolution-marker"></div>
                    <div class="evolution-content">
                        <h3 class="evolution-title">é˜¶æ®µ 5: äº‘åŸç”Ÿ + Aspire</h3>
                        <p class="evolution-subtitle">å®¹å™¨åŒ–ï¼Œå¯è§‚æµ‹ï¼Œç”Ÿäº§å°±ç»ª</p>
                        <div class="evolution-features">
                            <div class="evolution-feature">âœ… å®¹å™¨åŒ–éƒ¨ç½²</div>
                            <div class="evolution-feature">âœ… åˆ†å¸ƒå¼è¿½è¸ª</div>
                            <div class="evolution-feature">âœ… å¥åº·æ£€æŸ¥</div>
                            <div class="evolution-feature">âœ… è‡ªåŠ¨æ‰©ç¼©å®¹</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Code Examples -->
    <section id="examples" class="section code-examples">
        <div class="container">
            <h2 class="section-title">ğŸ’» ä»£ç ç¤ºä¾‹</h2>
            <p class="section-subtitle">å®ç”¨çš„ä»£ç ç‰‡æ®µï¼Œå¤åˆ¶ç²˜è´´å³å¯ä½¿ç”¨</p>

            <div class="code-tabs">
                <div class="code-tab active" onclick="switchCodeTab(0)">å¿«é€Ÿå¼€å§‹</div>
                <div class="code-tab" onclick="switchCodeTab(1)">å¼‚å¸¸å¤„ç†</div>
                <div class="code-tab" onclick="switchCodeTab(2)">äº‹ä»¶å‘å¸ƒ</div>
                <div class="code-tab" onclick="switchCodeTab(3)">Redis é…ç½®</div>
                <div class="code-tab" onclick="switchCodeTab(4)">NATS é…ç½®</div>
            </div>

            <!-- Tab 1: Quick Start -->
            <div class="code-panel active">
                <pre><code><span class="code-comment">// 1. å®‰è£… NuGet åŒ…</span>
dotnet add package Catga
dotnet add package Catga.Transport.InMemory
dotnet add package Catga.SourceGenerator

<span class="code-comment">// 2. é…ç½®æœåŠ¡ (Program.cs)</span>
<span class="code-keyword">var</span> builder = <span class="code-type">WebApplication</span>.CreateBuilder(args);

builder.Services
    .AddCatga()
    .AddGeneratedHandlers()      <span class="code-comment">// è‡ªåŠ¨æ³¨å†Œæ‰€æœ‰ Handler</span>
    .AddInMemoryTransport();     <span class="code-comment">// ä½¿ç”¨å†…å­˜ä¼ è¾“</span>

<span class="code-keyword">var</span> app = builder.Build();
app.Run();

<span class="code-comment">// 3. å®šä¹‰å‘½ä»¤</span>
<span class="code-keyword">public record</span> <span class="code-type">CreateUserCommand</span>(
    <span class="code-type">string</span> Name,
    <span class="code-type">string</span> Email
) : <span class="code-type">IRequest</span>&lt;<span class="code-type">User</span>&gt;;

<span class="code-comment">// 4. å®ç° Handler (è‡ªåŠ¨æ³¨å†Œ)</span>
<span class="code-keyword">public class</span> <span class="code-type">CreateUserHandler</span>
    : <span class="code-type">IRequestHandler</span>&lt;<span class="code-type">CreateUserCommand</span>, <span class="code-type">User</span>&gt;
{
    <span class="code-keyword">public async</span> <span class="code-type">Task</span>&lt;<span class="code-type">CatgaResult</span>&lt;<span class="code-type">User</span>&gt;&gt; HandleAsync(
        <span class="code-type">CreateUserCommand</span> request,
        <span class="code-type">CancellationToken</span> cancellationToken)
    {
        <span class="code-keyword">var</span> user = <span class="code-keyword">new</span> <span class="code-type">User</span> { Name = request.Name, Email = request.Email };
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">User</span>&gt;.Success(user);
    }
}

<span class="code-comment">// 5. å‘é€å‘½ä»¤</span>
<span class="code-keyword">var</span> result = <span class="code-keyword">await</span> mediator.SendAsync&lt;<span class="code-type">CreateUserCommand</span>, <span class="code-type">User</span>&gt;(
    <span class="code-keyword">new</span> <span class="code-type">CreateUserCommand</span>(<span class="code-string">"Alice"</span>, <span class="code-string">"alice@example.com"</span>)
);

<span class="code-keyword">if</span> (result.IsSuccess)
    Console.WriteLine(<span class="code-string">$"ç”¨æˆ·å·²åˆ›å»º: {result.Value.Name}"</span>);</code></pre>
            </div>

            <!-- Tab 2: Error Handling -->
            <div class="code-panel">
                <pre><code><span class="code-comment">// Handler ä¸­çš„å®Œæ•´å¼‚å¸¸å¤„ç†</span>
<span class="code-keyword">public async</span> <span class="code-type">Task</span>&lt;<span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;&gt; HandleAsync(
    <span class="code-type">CreateOrderCommand</span> request,
    <span class="code-type">CancellationToken</span> cancellationToken)
{
    <span class="code-comment">// 1. å‚æ•°éªŒè¯</span>
    <span class="code-keyword">if</span> (<span class="code-keyword">string</span>.IsNullOrEmpty(request.ProductId))
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">"äº§å“IDä¸èƒ½ä¸ºç©º"</span>);

    <span class="code-keyword">if</span> (request.Quantity &lt;= <span class="code-number">0</span>)
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">"æ•°é‡å¿…é¡»å¤§äº0"</span>);

    <span class="code-keyword">try</span>
    {
        <span class="code-comment">// 2. ä¸šåŠ¡é€»è¾‘</span>
        <span class="code-keyword">var</span> product = <span class="code-keyword">await</span> _productRepo.GetByIdAsync(
            request.ProductId,
            cancellationToken
        );

        <span class="code-keyword">if</span> (product == <span class="code-keyword">null</span>)
            <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">$"äº§å“ä¸å­˜åœ¨: {request.ProductId}"</span>);

        <span class="code-keyword">if</span> (product.Stock &lt; request.Quantity)
            <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(
                <span class="code-string">$"åº“å­˜ä¸è¶³ï¼Œå‰©ä½™: {product.Stock}"</span>
            );

        <span class="code-comment">// 3. åˆ›å»ºè®¢å•</span>
        <span class="code-keyword">var</span> order = <span class="code-keyword">new</span> <span class="code-type">Order</span>(request.ProductId, request.Quantity);
        <span class="code-keyword">await</span> _orderRepo.SaveAsync(order, cancellationToken);

        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Success(order);
    }
    <span class="code-keyword">catch</span> (<span class="code-type">DbUpdateException</span> ex)
    {
        _logger.LogError(ex, <span class="code-string">"æ•°æ®åº“é”™è¯¯"</span>);
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">$"æ•°æ®åº“é”™è¯¯: {ex.Message}"</span>);
    }
    <span class="code-keyword">catch</span> (<span class="code-type">OperationCanceledException</span>)
    {
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">"æ“ä½œå·²å–æ¶ˆ"</span>);
    }
    <span class="code-keyword">catch</span> (<span class="code-type">Exception</span> ex)
    {
        _logger.LogError(ex, <span class="code-string">"æœªçŸ¥é”™è¯¯"</span>);
        <span class="code-keyword">return</span> <span class="code-type">CatgaResult</span>&lt;<span class="code-type">Order</span>&gt;.Failure(<span class="code-string">$"æœªçŸ¥é”™è¯¯: {ex.Message}"</span>);
    }
}</code></pre>
            </div>

            <!-- Tab 3: Event Publishing -->
            <div class="code-panel">
                <pre><code><span class="code-comment">// 1. å®šä¹‰äº‹ä»¶</span>
<span class="code-keyword">public record</span> <span class="code-type">OrderCreatedEvent</span>(
    <span class="code-type">string</span> OrderId,
    <span class="code-type">string</span> ProductId,
    <span class="code-type">int</span> Quantity,
    <span class="code-type">DateTime</span> CreatedAt
) : <span class="code-type">IEvent</span>;

<span class="code-comment">// 2. å‘å¸ƒäº‹ä»¶ (åœ¨ Handler ä¸­)</span>
<span class="code-keyword">var</span> order = <span class="code-keyword">new</span> <span class="code-type">Order</span>(request.ProductId, request.Quantity);
<span class="code-keyword">await</span> _orderRepo.SaveAsync(order, cancellationToken);

<span class="code-keyword">var</span> @event = <span class="code-keyword">new</span> <span class="code-type">OrderCreatedEvent</span>(
    order.Id,
    order.ProductId,
    order.Quantity,
    DateTime.UtcNow
);

<span class="code-keyword">await</span> mediator.PublishAsync(@event, cancellationToken);

<span class="code-comment">// 3. äº‹ä»¶ Handler 1: å‘é€é‚®ä»¶é€šçŸ¥ (è‡ªåŠ¨æ³¨å†Œ)</span>
<span class="code-keyword">public class</span> <span class="code-type">SendEmailHandler</span> : <span class="code-type">IEventHandler</span>&lt;<span class="code-type">OrderCreatedEvent</span>&gt;
{
    <span class="code-keyword">public async</span> <span class="code-type">Task</span> HandleAsync(
        <span class="code-type">OrderCreatedEvent</span> @event,
        <span class="code-type">CancellationToken</span> cancellationToken)
    {
        <span class="code-keyword">await</span> _emailService.SendAsync(
            <span class="code-string">"order-confirmation.html"</span>,
            <span class="code-keyword">new</span> { @event.OrderId, @event.ProductId },
            cancellationToken
        );
    }
}

<span class="code-comment">// 4. äº‹ä»¶ Handler 2: æ›´æ–°åº“å­˜ (è‡ªåŠ¨æ³¨å†Œ)</span>
<span class="code-keyword">public class</span> <span class="code-type">UpdateInventoryHandler</span> : <span class="code-type">IEventHandler</span>&lt;<span class="code-type">OrderCreatedEvent</span>&gt;
{
    <span class="code-keyword">public async</span> <span class="code-type">Task</span> HandleAsync(
        <span class="code-type">OrderCreatedEvent</span> @event,
        <span class="code-type">CancellationToken</span> cancellationToken)
    {
        <span class="code-keyword">await</span> _inventoryService.DecreaseStockAsync(
            @event.ProductId,
            @event.Quantity,
            cancellationToken
        );
    }
}</code></pre>
            </div>

            <!-- Tab 4: Redis Configuration -->
            <div class="code-panel">
                <pre><code><span class="code-comment">// 1. å®‰è£… Redis åŒ…</span>
dotnet add package Catga.Transport.Redis
dotnet add package Catga.Persistence.Redis

<span class="code-comment">// 2. é…ç½® Redis (Program.cs)</span>
builder.Services.AddCatga().AddGeneratedHandlers();

<span class="code-comment">// Redis ä¼ è¾“å±‚ (QoS 0 Pub/Sub, QoS 1 Streams)</span>
builder.Services.AddRedisTransport(options =>
{
    options.Configuration = <span class="code-string">"localhost:6379"</span>;
    options.DefaultQoS = QoS.AtLeastOnce;  <span class="code-comment">// QoS 1</span>
    options.StreamMaxLength = <span class="code-number">10000</span>;       <span class="code-comment">// Stream æœ€å¤§é•¿åº¦</span>
    options.ConsumerGroup = <span class="code-string">"my-service"</span>;   <span class="code-comment">// æ¶ˆè´¹è€…ç»„</span>
});

<span class="code-comment">// Redis Outbox æŒä¹…åŒ–</span>
builder.Services.AddRedisOutbox(options =>
{
    options.Configuration = <span class="code-string">"localhost:6379"</span>;
    options.BatchSize = <span class="code-number">100</span>;               <span class="code-comment">// æ‰¹é‡å‘é€ 100 æ¡</span>
    options.PollingInterval = TimeSpan.FromSeconds(<span class="code-number">5</span>);
    options.MaxRetries = <span class="code-number">3</span>;                 <span class="code-comment">// æœ€å¤šé‡è¯• 3 æ¬¡</span>
});

<span class="code-comment">// Redis Inbox å¹‚ç­‰æ€§</span>
builder.Services.AddRedisInbox(options =>
{
    options.Configuration = <span class="code-string">"localhost:6379"</span>;
    options.RetentionPeriod = TimeSpan.FromDays(<span class="code-number">7</span>);  <span class="code-comment">// ä¿ç•™ 7 å¤©</span>
});

<span class="code-comment">// 3. appsettings.json é…ç½®</span>
{
  <span class="code-string">"ConnectionStrings"</span>: {
    <span class="code-string">"Redis"</span>: <span class="code-string">"localhost:6379,password=your-password,ssl=false"</span>
  }
}</code></pre>
            </div>

            <!-- Tab 5: NATS Configuration -->
            <div class="code-panel">
                <pre><code><span class="code-comment">// 1. å®‰è£… NATS åŒ…</span>
dotnet add package Catga.Transport.Nats
dotnet add package Catga.Persistence.Nats

<span class="code-comment">// 2. é…ç½® NATS (Program.cs)</span>
builder.Services.AddCatga().AddGeneratedHandlers();

<span class="code-comment">// NATS ä¼ è¾“å±‚ (Core/JetStream)</span>
builder.Services.AddNatsTransport(options =>
{
    options.Url = <span class="code-string">"nats://localhost:4222"</span>;
    options.UseJetStream = <span class="code-keyword">true</span>;           <span class="code-comment">// å¯ç”¨ JetStream</span>
    options.StreamName = <span class="code-string">"CATGA_EVENTS"</span>;
    options.MaxRetries = <span class="code-number">3</span>;
    options.ReconnectWait = TimeSpan.FromSeconds(<span class="code-number">2</span>);
});

<span class="code-comment">// NATS KV äº‹ä»¶æº¯æº</span>
builder.Services.AddNatsEventStore(options =>
{
    options.Url = <span class="code-string">"nats://localhost:4222"</span>;
    options.BucketName = <span class="code-string">"catga-events"</span>;
    options.MaxHistoryPerKey = <span class="code-number">100</span>;         <span class="code-comment">// æ¯ä¸ª key æœ€å¤š 100 ä¸ªå†å²</span>
});

<span class="code-comment">// NATS JetStream Outbox</span>
builder.Services.AddNatsOutbox(options =>
{
    options.Url = <span class="code-string">"nats://localhost:4222"</span>;
    options.StreamName = <span class="code-string">"OUTBOX"</span>;
    options.BatchSize = <span class="code-number">50</span>;
    options.PollingInterval = TimeSpan.FromSeconds(<span class="code-number">3</span>);
});

<span class="code-comment">// 3. Docker Compose å¯åŠ¨ NATS</span>
docker run -d --name nats <span class="code-keyword">\</span>
  -p <span class="code-number">4222</span>:<span class="code-number">4222</span> -p <span class="code-number">8222</span>:<span class="code-number">8222</span> <span class="code-keyword">\</span>
  nats:latest -js</code></pre>
            </div>
        </div>
    </section>

    <!-- Comparison Section -->
    <section class="section comparison">
        <div class="container">
            <h2 class="section-title">âš–ï¸ æ¡†æ¶å¯¹æ¯”</h2>
            <p class="section-subtitle">Catga vs å…¶ä»–ä¸»æµæ¡†æ¶</p>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>Catga</th>
                            <th>MediatR</th>
                            <th>MassTransit</th>
                            <th>CAP</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>CQRS æ”¯æŒ</strong></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                        </tr>
                        <tr>
                            <td><strong>Event Sourcing</strong></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                        </tr>
                        <tr>
                            <td><strong>Native AOT</strong></td>
                            <td><span class="check-yes">âœ“ 100%</span></td>
                            <td><span class="check-no">âœ—</span></td>
                            <td><span class="check-no">âœ—</span></td>
                            <td><span class="check-no">âœ—</span></td>
                        </tr>
                        <tr>
                            <td><strong>é›¶åå°„</strong></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">âœ—</span></td>
                            <td><span class="check-no">âœ—</span></td>
                            <td><span class="check-no">âœ—</span></td>
                        </tr>
                        <tr>
                            <td><strong>Source Generator</strong></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                        </tr>
                        <tr>
                            <td><strong>åˆ†å¸ƒå¼ä¼ è¾“</strong></td>
                            <td><span class="check-yes">âœ“ Redis/NATS</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-yes">âœ“ å¤šç§</span></td>
                            <td><span class="check-yes">âœ“ å¤šç§</span></td>
                        </tr>
                        <tr>
                            <td><strong>Outbox/Inbox</strong></td>
                            <td><span class="check-yes">âœ“ å†…ç½®</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-yes">âœ“</span></td>
                        </tr>
                        <tr>
                            <td><strong>æ€§èƒ½ (Î¼s)</strong></td>
                            <td><span class="check-yes">&lt; 1</span></td>
                            <td>~5</td>
                            <td>~10</td>
                            <td>~15</td>
                        </tr>
                        <tr>
                            <td><strong>.NET Aspire</strong></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                            <td><span class="check-no">-</span></td>
                        </tr>
                        <tr>
                            <td><strong>OpenTelemetry</strong></td>
                            <td><span class="check-yes">âœ“ åŸç”Ÿ</span></td>
                            <td><span class="check-no">æ‰‹åŠ¨</span></td>
                            <td><span class="check-yes">âœ“</span></td>
                            <td><span class="check-no">æ‰‹åŠ¨</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="stats-grid">
            <div class="stat-item">
                <h3>&lt; 1Î¼s</h3>
                <p>å‘½ä»¤å¤„ç†å»¶è¿Ÿ</p>
            </div>
            <div class="stat-item">
                <h3>1M+</h3>
                <p>æ¯ç§’ååé‡</p>
            </div>
            <div class="stat-item">
                <h3>100%</h3>
                <p>AOT å…¼å®¹</p>
            </div>
            <div class="stat-item">
                <h3>194</h3>
                <p>æµ‹è¯•è¦†ç›–</p>
            </div>
            <div class="stat-item">
                <h3>16</h3>
                <p>NuGet åŒ…</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Catga Framework. å¼€æºåè®®: MIT</p>
        <p>
            <a href="https://github.com/Cricle/Catga">GitHub</a> Â·
            <a href="https://www.nuget.org/packages/Catga">NuGet</a> Â·
            <a href="../articles/getting-started.html">æ–‡æ¡£</a> Â·
            <a href="../api/index.html">API</a>
        </p>
    </footer>

    <script>
        // Toggle learning path step details
        function toggleStep(element) {
            const details = element.querySelector('.step-details');
            const wasActive = element.classList.contains('active');

            // Close all steps
            document.querySelectorAll('.path-step').forEach(step => {
                step.classList.remove('active');
                step.querySelector('.step-details').classList.remove('show');
            });

            // Toggle current step
            if (!wasActive) {
                element.classList.add('active');
                details.classList.add('show');
            }
        }

        // Switch use case tabs
        function switchUseCase(index) {
            // Update tabs
            const tabs = document.querySelectorAll('.use-case-tab');
            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            // Update content
            const contents = document.querySelectorAll('.use-case-content');
            contents.forEach((content, i) => {
                content.classList.toggle('active', i === index);
            });
        }

        // Switch code tabs
        function switchCodeTab(index) {
            // Update tabs
            const tabs = document.querySelectorAll('.code-tab');
            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            // Update panels
            const panels = document.querySelectorAll('.code-panel');
            panels.forEach((panel, i) => {
                panel.classList.toggle('active', i === index);
            });
        }

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Toggle mobile menu
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.classList.toggle('active');

            // Prevent body scroll when menu is open
            if (mobileNav.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        // Switch demo tabs
        function switchDemo(index) {
            const tabs = document.querySelectorAll('.demo-tab');
            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            const contents = document.querySelectorAll('.demo-content');
            contents.forEach((content, i) => {
                content.classList.toggle('active', i === index);
            });
        }

        // Animation utilities
        function addTimelineItem(timelineId, action, type = 'success') {
            const timeline = document.getElementById(timelineId);
            const item = document.createElement('div');
            item.className = `timeline-item ${type}`;
            item.innerHTML = `
                <div class="time">${new Date().toLocaleTimeString()}</div>
                <div class="action">${action}</div>
            `;
            timeline.appendChild(item);
            timeline.scrollTop = timeline.scrollHeight;
        }

        function createNode(canvas, id, text, x, y) {
            const node = document.createElement('div');
            node.className = 'node';
            node.id = id;
            node.style.left = `${x}px`;
            node.style.top = `${y}px`;
            node.innerHTML = `<div>${text}</div>`;
            canvas.appendChild(node);
            return node;
        }

        function activateNode(nodeId) {
            document.getElementById(nodeId)?.classList.add('active');
        }

        function deactivateNode(nodeId) {
            document.getElementById(nodeId)?.classList.remove('active');
        }

        function successNode(nodeId) {
            const node = document.getElementById(nodeId);
            if (node) {
                node.classList.remove('active');
                node.classList.add('success');
            }
        }

        async function animateMessage(canvas, startX, startY, endX, endY, icon = 'ğŸ“¨') {
            const message = document.createElement('div');
            message.className = 'message';
            message.textContent = icon;
            message.style.left = `${startX}px`;
            message.style.top = `${startY}px`;
            canvas.appendChild(message);

            await new Promise(resolve => setTimeout(resolve, 50));
            message.classList.add('animating');

            // Calculate movement
            const duration = 2000;
            const steps = 60;
            const stepDuration = duration / steps;
            const deltaX = (endX - startX) / steps;
            const deltaY = (endY - startY) / steps;

            for (let i = 0; i < steps; i++) {
                await new Promise(resolve => setTimeout(resolve, stepDuration));
                message.style.left = `${startX + deltaX * i}px`;
                message.style.top = `${startY + deltaY * i}px`;
            }

            await new Promise(resolve => setTimeout(resolve, 500));
            canvas.removeChild(message);
        }

        // Demo 1: CQRS Flow
        let cqrsRunning = false;

        function resetCQRSDemo() {
            const canvas = document.getElementById('cqrs-canvas');
            const timeline = document.getElementById('cqrs-timeline');
            canvas.innerHTML = '';
            timeline.innerHTML = '';
            cqrsRunning = false;

            // Create nodes
            createNode(canvas, 'cqrs-client', 'å®¢æˆ·ç«¯', 50, 170);
            createNode(canvas, 'cqrs-mediator', 'Mediator', 250, 170);
            createNode(canvas, 'cqrs-handler', 'Handler', 450, 100);
            createNode(canvas, 'cqrs-db', 'æ•°æ®åº“', 650, 170);
            createNode(canvas, 'cqrs-event', 'äº‹ä»¶æ€»çº¿', 450, 240);
        }

        async function startCQRSDemo() {
            if (cqrsRunning) return;
            cqrsRunning = true;
            resetCQRSDemo();

            const canvas = document.getElementById('cqrs-canvas');

            // Step 1: Client sends command
            await new Promise(r => setTimeout(r, 500));
            activateNode('cqrs-client');
            addTimelineItem('cqrs-timeline', 'å®¢æˆ·ç«¯å‘é€å‘½ä»¤: CreateOrderCommand');

            await animateMessage(canvas, 110, 190, 270, 190, 'ğŸ“');
            deactivateNode('cqrs-client');

            // Step 2: Mediator routes to handler
            activateNode('cqrs-mediator');
            addTimelineItem('cqrs-timeline', 'Mediator è·¯ç”±åˆ° Handler');

            await animateMessage(canvas, 310, 180, 470, 130, 'â¡ï¸');
            deactivateNode('cqrs-mediator');

            // Step 3: Handler processes
            activateNode('cqrs-handler');
            addTimelineItem('cqrs-timeline', 'Handler å¤„ç†ä¸šåŠ¡é€»è¾‘');
            await new Promise(r => setTimeout(r, 1000));

            // Step 4: Save to database
            await animateMessage(canvas, 510, 120, 670, 180, 'ğŸ’¾');
            activateNode('cqrs-db');
            addTimelineItem('cqrs-timeline', 'ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“');
            await new Promise(r => setTimeout(r, 800));
            successNode('cqrs-db');

            // Step 5: Publish event
            await animateMessage(canvas, 490, 140, 490, 260, 'ğŸ“¢');
            deactivateNode('cqrs-handler');
            activateNode('cqrs-event');
            addTimelineItem('cqrs-timeline', 'å‘å¸ƒäº‹ä»¶: OrderCreatedEvent');
            await new Promise(r => setTimeout(r, 800));

            successNode('cqrs-handler');
            successNode('cqrs-event');
            addTimelineItem('cqrs-timeline', 'âœ… CQRS æµç¨‹å®Œæˆ', 'success');

            cqrsRunning = false;
        }

        // Demo 2: Event-Driven
        let eventRunning = false;

        function resetEventDemo() {
            const canvas = document.getElementById('event-canvas');
            const timeline = document.getElementById('event-timeline');
            canvas.innerHTML = '';
            timeline.innerHTML = '';
            eventRunning = false;

            createNode(canvas, 'event-publisher', 'å‘å¸ƒè€…', 50, 170);
            createNode(canvas, 'event-bus', 'äº‹ä»¶æ€»çº¿', 300, 170);
            createNode(canvas, 'event-handler1', 'Handler 1', 550, 50);
            createNode(canvas, 'event-handler2', 'Handler 2', 550, 170);
            createNode(canvas, 'event-handler3', 'Handler 3', 550, 290);
        }

        async function startEventDemo() {
            if (eventRunning) return;
            eventRunning = true;
            resetEventDemo();

            const canvas = document.getElementById('event-canvas');

            // Step 1: Publish event
            await new Promise(r => setTimeout(r, 500));
            activateNode('event-publisher');
            addTimelineItem('event-timeline', 'å‘å¸ƒäº‹ä»¶: OrderCreatedEvent');

            await animateMessage(canvas, 110, 190, 320, 190, 'ğŸ“¢');
            deactivateNode('event-publisher');
            successNode('event-publisher');

            // Step 2: Event bus receives
            activateNode('event-bus');
            addTimelineItem('event-timeline', 'äº‹ä»¶æ€»çº¿æ¥æ”¶äº‹ä»¶');
            await new Promise(r => setTimeout(r, 500));

            // Step 3: Broadcast to all handlers (parallel)
            addTimelineItem('event-timeline', 'å¹¿æ’­åˆ°æ‰€æœ‰è®¢é˜…è€…');

            const promises = [
                animateMessage(canvas, 360, 180, 570, 70, 'ğŸ“¨'),
                animateMessage(canvas, 360, 190, 570, 190, 'ğŸ“¨'),
                animateMessage(canvas, 360, 200, 570, 310, 'ğŸ“¨')
            ];

            await Promise.all(promises);
            deactivateNode('event-bus');

            // Step 4: Handlers process in parallel
            activateNode('event-handler1');
            activateNode('event-handler2');
            activateNode('event-handler3');

            addTimelineItem('event-timeline', 'Handler 1: å‘é€é‚®ä»¶é€šçŸ¥');
            await new Promise(r => setTimeout(r, 800));
            successNode('event-handler1');

            addTimelineItem('event-timeline', 'Handler 2: æ›´æ–°åº“å­˜');
            await new Promise(r => setTimeout(r, 800));
            successNode('event-handler2');

            addTimelineItem('event-timeline', 'Handler 3: åˆ›å»ºå‘è´§å•');
            await new Promise(r => setTimeout(r, 800));
            successNode('event-handler3');

            addTimelineItem('event-timeline', 'âœ… äº‹ä»¶å¤„ç†å®Œæˆ', 'success');

            eventRunning = false;
        }

        // Demo 3: Outbox Pattern
        let outboxRunning = false;

        function resetOutboxDemo() {
            const canvas = document.getElementById('outbox-canvas');
            const timeline = document.getElementById('outbox-timeline');
            canvas.innerHTML = '';
            timeline.innerHTML = '';
            outboxRunning = false;

            createNode(canvas, 'outbox-service', 'æœåŠ¡', 50, 100);
            createNode(canvas, 'outbox-db', 'æ•°æ®åº“', 250, 100);
            createNode(canvas, 'outbox-table', 'Outbox è¡¨', 250, 240);
            createNode(canvas, 'outbox-publisher', 'Publisher', 500, 170);
            createNode(canvas, 'outbox-mq', 'æ¶ˆæ¯é˜Ÿåˆ—', 700, 170);
        }

        async function startOutboxDemo() {
            if (outboxRunning) return;
            outboxRunning = true;
            resetOutboxDemo();

            const canvas = document.getElementById('outbox-canvas');

            // Step 1: Service handles command
            await new Promise(r => setTimeout(r, 500));
            activateNode('outbox-service');
            addTimelineItem('outbox-timeline', 'æœåŠ¡å¤„ç†å‘½ä»¤');
            await new Promise(r => setTimeout(r, 800));

            // Step 2: Save business data (Transaction start)
            addTimelineItem('outbox-timeline', 'âš¡ å¼€å§‹æ•°æ®åº“äº‹åŠ¡');
            await animateMessage(canvas, 110, 120, 270, 120, 'ğŸ’¾');
            activateNode('outbox-db');
            addTimelineItem('outbox-timeline', 'ä¿å­˜ä¸šåŠ¡æ•°æ®');
            await new Promise(r => setTimeout(r, 800));

            // Step 3: Save to outbox (Same transaction)
            await animateMessage(canvas, 290, 140, 290, 260, 'ğŸ“');
            activateNode('outbox-table');
            addTimelineItem('outbox-timeline', 'å†™å…¥ Outbox è¡¨ï¼ˆåŒä¸€äº‹åŠ¡ï¼‰');
            await new Promise(r => setTimeout(r, 800));

            // Step 4: Commit transaction
            successNode('outbox-db');
            successNode('outbox-table');
            addTimelineItem('outbox-timeline', 'âœ… æäº¤äº‹åŠ¡ï¼ˆåŸå­æ“ä½œï¼‰', 'success');
            deactivateNode('outbox-service');
            successNode('outbox-service');
            await new Promise(r => setTimeout(r, 1000));

            // Step 5: Outbox publisher reads
            activateNode('outbox-publisher');
            addTimelineItem('outbox-timeline', 'Outbox Publisher è½®è¯¢');
            await animateMessage(canvas, 310, 260, 520, 190, 'ğŸ”');
            await new Promise(r => setTimeout(r, 800));

            // Step 6: Publish to message queue
            addTimelineItem('outbox-timeline', 'å‘å¸ƒæ¶ˆæ¯åˆ°é˜Ÿåˆ—');
            await animateMessage(canvas, 560, 190, 720, 190, 'ğŸ“¨');
            deactivateNode('outbox-publisher');
            successNode('outbox-publisher');
            activateNode('outbox-mq');
            await new Promise(r => setTimeout(r, 800));

            successNode('outbox-mq');
            addTimelineItem('outbox-timeline', 'âœ… æ¶ˆæ¯å¯é å‘é€ï¼ˆç¡®ä¿ä¸€è‡´æ€§ï¼‰', 'success');

            outboxRunning = false;
        }

        // Demo 4: Distributed Tracing
        let tracingRunning = false;

        function resetTracingDemo() {
            const canvas = document.getElementById('tracing-canvas');
            const timeline = document.getElementById('tracing-timeline');
            canvas.innerHTML = '';
            timeline.innerHTML = '';
            tracingRunning = false;

            createNode(canvas, 'trace-api', 'API Gateway', 50, 170);
            createNode(canvas, 'trace-order', 'è®¢å•æœåŠ¡', 250, 100);
            createNode(canvas, 'trace-payment', 'æ”¯ä»˜æœåŠ¡', 450, 100);
            createNode(canvas, 'trace-inventory', 'åº“å­˜æœåŠ¡', 250, 240);
            createNode(canvas, 'trace-notify', 'é€šçŸ¥æœåŠ¡', 450, 240);
            createNode(canvas, 'trace-otel', 'OpenTelemetry', 650, 170);
        }

        async function startTracingDemo() {
            if (tracingRunning) return;
            tracingRunning = true;
            resetTracingDemo();

            const canvas = document.getElementById('tracing-canvas');

            // Step 1: API receives request
            await new Promise(r => setTimeout(r, 500));
            activateNode('trace-api');
            addTimelineItem('tracing-timeline', 'ğŸ”— åˆ›å»º Trace: trace-id-123');
            addTimelineItem('tracing-timeline', 'API Gateway æ¥æ”¶è¯·æ±‚');
            await new Promise(r => setTimeout(r, 800));

            // Step 2: Call order service
            await animateMessage(canvas, 110, 180, 270, 120, 'ğŸ“');
            activateNode('trace-order');
            addTimelineItem('tracing-timeline', 'Span 1: è°ƒç”¨è®¢å•æœåŠ¡ï¼ˆä¼ é€’ TraceContextï¼‰');
            await new Promise(r => setTimeout(r, 1000));

            // Step 3: Order calls payment
            await animateMessage(canvas, 310, 110, 470, 110, 'ğŸ’³');
            activateNode('trace-payment');
            addTimelineItem('tracing-timeline', 'Span 1.1: è°ƒç”¨æ”¯ä»˜æœåŠ¡');
            await new Promise(r => setTimeout(r, 1000));
            successNode('trace-payment');
            deactivateNode('trace-payment');

            // Step 4: Order calls inventory
            await animateMessage(canvas, 290, 140, 290, 260, 'ğŸ“¦');
            activateNode('trace-inventory');
            addTimelineItem('tracing-timeline', 'Span 1.2: è°ƒç”¨åº“å­˜æœåŠ¡');
            await new Promise(r => setTimeout(r, 1000));
            successNode('trace-inventory');
            deactivateNode('trace-inventory');

            // Step 5: Order complete
            successNode('trace-order');
            deactivateNode('trace-order');

            // Step 6: Call notification service
            await animateMessage(canvas, 90, 200, 470, 260, 'ğŸ“§');
            activateNode('trace-notify');
            addTimelineItem('tracing-timeline', 'Span 2: è°ƒç”¨é€šçŸ¥æœåŠ¡');
            await new Promise(r => setTimeout(r, 1000));
            successNode('trace-notify');
            deactivateNode('trace-notify');

            successNode('trace-api');
            deactivateNode('trace-api');

            // Step 7: Send to OpenTelemetry
            addTimelineItem('tracing-timeline', 'ğŸ“Š å‘é€è¿½è¸ªæ•°æ®åˆ° OpenTelemetry');
            activateNode('trace-otel');
            await new Promise(r => setTimeout(r, 800));
            successNode('trace-otel');

            addTimelineItem('tracing-timeline', 'âœ… åˆ†å¸ƒå¼è¿½è¸ªå®Œæˆï¼ˆå…¨é“¾è·¯å¯è§†åŒ–ï¼‰', 'success');

            tracingRunning = false;
        }

        // Initialize first demo on page load
        window.addEventListener('load', () => {
            resetCQRSDemo();
            resetEventDemo();
            resetOutboxDemo();
            resetTracingDemo();
        });
    </script>
</body>
</html>
