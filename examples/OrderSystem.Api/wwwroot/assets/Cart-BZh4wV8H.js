import{k as $,q as b,L as e,c as x,w as s,a4 as d,v as r,t as j,u as l,C as n,ad as B,x as c,o as p}from"./vue-DxbRKzch.js";import{u as F}from"./index-B2PYIGOZ.js";import"./vuestic-BlKE5WT7.js";const I={key:1,class:"row"},N={class:"flex md8 xs12"},V={class:"d-flex align-center"},z={class:"d-flex align-center"},S={class:"mx-2"},E={class:"va-text-danger"},Q={class:"flex md4 xs12"},w={class:"d-flex justify-space-between mb-2"},L={class:"d-flex justify-space-between mb-2"},R={class:"d-flex justify-space-between mb-4"},T={class:"va-text-danger va-h5"},M=$({__name:"Cart",setup(A){const _=B(),o=F();return(G,t)=>{const i=d("va-icon"),k=d("va-badge"),f=d("va-card-title"),m=d("va-card"),u=d("va-button"),v=d("va-card-content"),g=d("va-avatar"),C=d("va-data-table"),q=d("va-divider");return p(),b("div",null,[e(m,{class:"mb-4"},{default:s(()=>[e(f,null,{default:s(()=>[e(i,{name:"shopping_cart",class:"mr-2"}),t[3]||(t[3]=r("购物车 ",-1)),l(o).count>0?(p(),x(k,{key:0,text:String(l(o).count),color:"primary",class:"ml-2"},null,8,["text"])):j("",!0)]),_:1})]),_:1}),l(o).isEmpty?(p(),x(m,{key:0,class:"text-center"},{default:s(()=>[e(v,{class:"pa-6"},{default:s(()=>[e(i,{name:"remove_shopping_cart",size:"4rem",color:"secondary"}),t[5]||(t[5]=n("h3",{class:"va-h5 mt-4"},"购物车是空的",-1)),t[6]||(t[6]=n("p",{class:"text-secondary mb-4"},"快去选购商品吧！",-1)),e(u,{onClick:t[0]||(t[0]=a=>l(_).push("/"))},{default:s(()=>[e(i,{name:"store",class:"mr-2"}),t[4]||(t[4]=r("去购物 ",-1))]),_:1})]),_:1})]),_:1})):(p(),b("div",I,[n("div",N,[e(m,{class:"mb-4"},{default:s(()=>[e(v,null,{default:s(()=>[e(C,{items:l(o).items,columns:[{key:"name",label:"商品"},{key:"price",label:"单价"},{key:"quantity",label:"数量"},{key:"subtotal",label:"小计"},{key:"actions",label:"操作"}]},{"cell(name)":s(({rowData:a})=>[n("div",V,[e(g,{color:"background-element",class:"mr-2"},{default:s(()=>[e(i,{name:a.image,color:"primary"},null,8,["name"])]),_:2},1024),r(" "+c(a.name),1)])]),"cell(price)":s(({rowData:a})=>[r(" ¥"+c(a.price.toFixed(2)),1)]),"cell(quantity)":s(({rowData:a})=>[n("div",z,[e(u,{size:"small",preset:"secondary",onClick:y=>l(o).updateQuantity(a.productId,a.quantity-1)},{default:s(()=>[e(i,{name:"remove"})]),_:1},8,["onClick"]),n("span",S,c(a.quantity),1),e(u,{size:"small",preset:"secondary",onClick:y=>l(o).updateQuantity(a.productId,a.quantity+1)},{default:s(()=>[e(i,{name:"add"})]),_:1},8,["onClick"])])]),"cell(subtotal)":s(({rowData:a})=>[n("strong",E,"¥"+c((a.price*a.quantity).toFixed(2)),1)]),"cell(actions)":s(({rowData:a})=>[e(u,{preset:"plain",color:"danger",onClick:y=>l(o).removeItem(a.productId)},{default:s(()=>[e(i,{name:"delete"})]),_:1},8,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})]),n("div",Q,[e(m,null,{default:s(()=>[e(f,null,{default:s(()=>[...t[7]||(t[7]=[r("订单摘要",-1)])]),_:1}),e(v,null,{default:s(()=>[n("div",w,[t[8]||(t[8]=n("span",null,"商品数量",-1)),n("span",null,c(l(o).count)+" 件",1)]),n("div",L,[t[9]||(t[9]=n("span",null,"商品金额",-1)),n("span",null,"¥"+c(l(o).total.toFixed(2)),1)]),t[13]||(t[13]=n("div",{class:"d-flex justify-space-between mb-2"},[n("span",null,"运费"),n("span",{class:"va-text-success"},"免运费")],-1)),e(q,{class:"my-3"}),n("div",R,[t[10]||(t[10]=n("strong",null,"合计",-1)),n("strong",T,"¥"+c(l(o).total.toFixed(2)),1)]),e(u,{color:"primary",block:"",onClick:t[1]||(t[1]=a=>l(_).push("/checkout"))},{default:s(()=>[e(i,{name:"payment",class:"mr-2"}),t[11]||(t[11]=r("去结算 ",-1))]),_:1}),e(u,{preset:"secondary",block:"",class:"mt-2",onClick:t[2]||(t[2]=a=>l(_).push("/"))},{default:s(()=>[...t[12]||(t[12]=[r(" 继续购物 ",-1)])]),_:1})]),_:1})]),_:1})])]))])}}});export{M as default};
