import{k as M,r as p,a as c,G as B,q as P,L as o,w as a,a4 as l,C as u,v as i,W as L,x as m,u as f,ab as R,o as U}from"./vue-b2tVlrm7.js";import{u as h,S as q,a as z}from"./index-BhKAg6iL.js";import{C as E}from"./CreateOrderForm-Oko3VzfZ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-qEU9UwJ9.js";const T={class:"orders-page"},W={class:"header-row"},j={class:"actions"},H=M({__name:"Orders",setup(J){const b=R(),n=h(),s=p(!1),d=p(null),v=c(()=>n.orders),C=c(()=>n.loading),g=[{value:0,text:"Pending"},{value:1,text:"Paid"},{value:2,text:"Processing"},{value:3,text:"Shipped"},{value:4,text:"Delivered"},{value:5,text:"Cancelled"}],k=c(()=>d.value===null?v.value:v.value.filter(r=>r.status===d.value)),x=[{key:"orderId",label:"Order ID",sortable:!0},{key:"customerId",label:"Customer",sortable:!0},{key:"items",label:"Items"},{key:"status",label:"Status",sortable:!0},{key:"totalAmount",label:"Amount",sortable:!0},{key:"createdAt",label:"Created",sortable:!0},{key:"actions",label:""}];function O(r){b.push(`/orders/${r}`)}function y(){s.value=!1,n.fetchOrders()}return B(()=>{n.fetchOrders()}),(r,t)=>{const w=l("va-select"),V=l("va-icon"),_=l("va-button"),S=l("va-card-title"),I=l("va-badge"),$=l("va-button-group"),A=l("va-data-table"),N=l("va-card-content"),D=l("va-card"),F=l("va-modal");return U(),P("div",T,[o(D,null,{default:a(()=>[o(S,null,{default:a(()=>[u("div",W,[t[6]||(t[6]=u("span",null,"Order Management",-1)),u("div",j,[o(w,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),options:g,placeholder:"Filter by status",clearable:"",class:"filter-select"},null,8,["modelValue"]),o(_,{color:"primary",onClick:t[1]||(t[1]=e=>s.value=!0)},{default:a(()=>[o(V,{name:"add",class:"mr-2"}),t[5]||(t[5]=i(" New Order ",-1))]),_:1})])])]),_:1}),o(N,null,{default:a(()=>[o(A,{items:k.value,columns:x,loading:C.value,hoverable:"",clickable:"",striped:"","onRow:click":t[2]||(t[2]=e=>r.$router.push(`/orders/${e.item.orderId}`))},{"cell(status)":a(({value:e})=>[o(I,{text:f(z)[e],color:f(q)[e]},null,8,["text","color"])]),"cell(totalAmount)":a(({value:e})=>[u("strong",null,"$"+m(e.toFixed(2)),1)]),"cell(createdAt)":a(({value:e})=>[i(m(new Date(e).toLocaleString()),1)]),"cell(items)":a(({value:e})=>[i(m(e?.length||0)+" items ",1)]),"cell(actions)":a(({row:e})=>[o($,null,{default:a(()=>[o(_,{size:"small",preset:"secondary",onClick:L(K=>O(e.item.orderId),["stop"])},{default:a(()=>[...t[7]||(t[7]=[i(" View ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["items","loading"])]),_:1})]),_:1}),o(F,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value=e),title:"Create Order","hide-default-actions":""},{default:a(()=>[o(E,{onCreated:y,onCancel:t[3]||(t[3]=e=>s.value=!1)})]),_:1},8,["modelValue"])])}}}),te=G(H,[["__scopeId","data-v-28d84870"]]);export{te as default};
