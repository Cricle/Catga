import{a as B}from"./index-qEU9UwJ9.js";import{k as H,r as V,f as h,G as q,q as d,L as t,w as l,a4 as a,v as i,C as s,t as u,x as E,F as I,D,c as k,u as F,o as r}from"./vue-b2tVlrm7.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"settings-page"},z={class:"health-section"},J={key:0,class:"health-status"},W={class:"uptime"},j={class:"config-section"},X={class:"config-section"},Y={key:0,class:"config-section"},Z={class:"config-section"},$={key:0,class:"cluster-settings"},ee={class:"actions"},te={class:"env-grid"},ne={class:"env-item"},se=H({__name:"Settings",setup(le){const c=V(null),f=V(!1),U=void 0,n=h({transport:"InMemory",persistence:"InMemory",redisConnection:"localhost:6379",natsUrl:"nats://localhost:4222",sqliteConnection:"Data Source=orders.db",clusterEnabled:!1,clusterNodes:""}),A=[{value:"InMemory",text:"In-Memory (Development)"},{value:"Redis",text:"Redis (Production)"},{value:"NATS",text:"NATS (High Performance)"}],M=[{value:"InMemory",text:"In-Memory (Development)"},{value:"Redis",text:"Redis (Distributed)"},{value:"NATS",text:"NATS JetStream"},{value:"SQLite",text:"SQLite (AOT Compatible)"}];async function R(){try{const _=await B.getHealth();c.value=_}catch{c.value={status:"Unhealthy"}}}function x(){f.value=!0,setTimeout(()=>{f.value=!1,alert("Configuration saved! Restart the server to apply changes.")},1e3)}function L(){n.transport="InMemory",n.persistence="InMemory",n.redisConnection="localhost:6379",n.natsUrl="nats://localhost:4222",n.sqliteConnection="Data Source=orders.db",n.clusterEnabled=!1,n.clusterNodes=""}return q(()=>{R()}),(_,e)=>{const y=a("va-card-title"),O=a("va-badge"),m=a("va-icon"),C=a("va-button"),p=a("va-divider"),T=a("va-radio"),v=a("va-input"),w=a("va-switch"),P=a("va-alert"),S=a("va-card-content"),g=a("va-card"),b=a("va-collapse-item"),Q=a("va-collapse");return r(),d("div",K,[t(g,null,{default:l(()=>[t(y,null,{default:l(()=>[...e[7]||(e[7]=[i("System Configuration",-1)])]),_:1}),t(S,null,{default:l(()=>[s("div",z,[e[9]||(e[9]=s("h4",null,"System Health",-1)),c.value?(r(),d("div",J,[t(O,{text:c.value.status,color:c.value.status==="Healthy"?"success":"danger"},null,8,["text","color"]),s("span",W,"Checked: "+E(new Date().toLocaleTimeString()),1)])):u("",!0),t(C,{size:"small",onClick:R},{default:l(()=>[t(m,{name:"refresh",class:"mr-2"}),e[8]||(e[8]=i(" Check Health ",-1))]),_:1})]),t(p),s("div",j,[e[10]||(e[10]=s("h4",null,"Transport Mode",-1)),e[11]||(e[11]=s("p",{class:"description"},"Configure how messages are transported between services",-1)),(r(),d(I,null,D(A,o=>t(T,{key:o.value,modelValue:n.transport,"onUpdate:modelValue":e[0]||(e[0]=N=>n.transport=N),option:o,class:"config-option"},null,8,["modelValue","option"])),64))]),t(p),s("div",X,[e[12]||(e[12]=s("h4",null,"Persistence Mode",-1)),e[13]||(e[13]=s("p",{class:"description"},"Configure how data is persisted",-1)),(r(),d(I,null,D(M,o=>t(T,{key:o.value,modelValue:n.persistence,"onUpdate:modelValue":e[1]||(e[1]=N=>n.persistence=N),option:o,class:"config-option"},null,8,["modelValue","option"])),64))]),t(p),n.transport!=="InMemory"||n.persistence!=="InMemory"?(r(),d("div",Y,[e[14]||(e[14]=s("h4",null,"Connection Settings",-1)),n.transport==="Redis"||n.persistence==="Redis"?(r(),k(v,{key:0,modelValue:n.redisConnection,"onUpdate:modelValue":e[2]||(e[2]=o=>n.redisConnection=o),label:"Redis Connection",placeholder:"localhost:6379",class:"config-input"},null,8,["modelValue"])):u("",!0),n.transport==="NATS"||n.persistence==="NATS"?(r(),k(v,{key:1,modelValue:n.natsUrl,"onUpdate:modelValue":e[3]||(e[3]=o=>n.natsUrl=o),label:"NATS URL",placeholder:"nats://localhost:4222",class:"config-input"},null,8,["modelValue"])):u("",!0),n.persistence==="SQLite"?(r(),k(v,{key:2,modelValue:n.sqliteConnection,"onUpdate:modelValue":e[4]||(e[4]=o=>n.sqliteConnection=o),label:"SQLite Database",placeholder:"Data Source=orders.db",class:"config-input"},null,8,["modelValue"])):u("",!0)])):u("",!0),t(p),s("div",Z,[e[16]||(e[16]=s("h4",null,"Cluster Mode",-1)),t(w,{modelValue:n.clusterEnabled,"onUpdate:modelValue":e[5]||(e[5]=o=>n.clusterEnabled=o),label:"Enable Cluster"},null,8,["modelValue"]),n.clusterEnabled?(r(),d("div",$,[t(v,{modelValue:n.clusterNodes,"onUpdate:modelValue":e[6]||(e[6]=o=>n.clusterNodes=o),label:"Cluster Nodes",placeholder:"node1:5000,node2:5000,node3:5000"},null,8,["modelValue"]),t(P,{color:"info",class:"mt-2"},{icon:l(()=>[t(m,{name:"info"})]),default:l(()=>[e[15]||(e[15]=i(" Cluster mode uses Raft consensus for leader election and state replication. ",-1))]),_:1})])):u("",!0)]),t(p),s("div",ee,[t(C,{color:"primary",onClick:x,loading:f.value},{default:l(()=>[t(m,{name:"save",class:"mr-2"}),e[17]||(e[17]=i(" Save Configuration ",-1))]),_:1},8,["loading"]),t(C,{onClick:L},{default:l(()=>[t(m,{name:"restore",class:"mr-2"}),e[18]||(e[18]=i(" Reset to Defaults ",-1))]),_:1})])]),_:1})]),_:1}),t(g,{class:"mt-4"},{default:l(()=>[t(y,null,{default:l(()=>[...e[19]||(e[19]=[i("Environment Information",-1)])]),_:1}),t(S,null,{default:l(()=>[s("div",te,[e[21]||(e[21]=s("div",{class:"env-item"},[s("label",null,"Framework"),s("span",null,"Catga CQRS")],-1)),e[22]||(e[22]=s("div",{class:"env-item"},[s("label",null,"Runtime"),s("span",null,".NET 9 (AOT Compatible)")],-1)),e[23]||(e[23]=s("div",{class:"env-item"},[s("label",null,"Frontend"),s("span",null,"Vue 3 + Vuestic UI")],-1)),s("div",ne,[e[20]||(e[20]=s("label",null,"API",-1)),s("span",null,E(F(U)||"Same Origin"),1)])])]),_:1})]),_:1}),t(g,{class:"mt-4"},{default:l(()=>[t(y,null,{default:l(()=>[...e[24]||(e[24]=[i("Deployment Guide",-1)])]),_:1}),t(S,null,{default:l(()=>[t(Q,null,{default:l(()=>[t(b,{header:"Docker Deployment"},{default:l(()=>[...e[25]||(e[25]=[s("pre",{class:"code-block"},`# Build and run with Docker
docker build -t ordersystem .
docker run -p 5275:5275 ordersystem

# With Redis
docker run -p 5275:5275 \\
  -e TRANSPORT=Redis \\
  -e PERSISTENCE=Redis \\
  -e REDIS_CONNECTION=redis:6379 \\
  ordersystem
            `,-1)])]),_:1}),t(b,{header:"Kubernetes Deployment"},{default:l(()=>[...e[26]||(e[26]=[s("pre",{class:"code-block"},`# Apply Kubernetes manifests
kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml
kubectl apply -f k8s/configmap.yaml

# Scale replicas
kubectl scale deployment ordersystem --replicas=3
            `,-1)])]),_:1}),t(b,{header:"Environment Variables"},{default:l(()=>[...e[27]||(e[27]=[s("pre",{class:"code-block"},`TRANSPORT=InMemory|Redis|NATS
PERSISTENCE=InMemory|Redis|NATS|SQLite
REDIS_CONNECTION=localhost:6379
NATS_URL=nats://localhost:4222
SQLITE_CONNECTION=Data Source=orders.db
CLUSTER_ENABLED=true|false
CLUSTER_NODES=node1:5000,node2:5000
            `,-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),ie=G(se,[["__scopeId","data-v-00e3ad08"]]);export{ie as default};
