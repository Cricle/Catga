const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Shop-DKUrxt0j.js","assets/vue-DxbRKzch.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/vuestic-BlKE5WT7.js","assets/vuestic-D3AENMiY.css","assets/Shop-1LA6gx4_.css","assets/Cart-BiMDav7H.js","assets/Checkout-DsU4yjzP.js","assets/order-Cp0QkwRJ.js","assets/index-Ca5JJS8k.js","assets/index-B9ygI19o.js","assets/MyOrders-DOCSMjQ3.js","assets/MyOrders-DC70YwSk.css","assets/Dashboard-BD1t77L6.js","assets/Dashboard-CEQJ0cPn.css","assets/Orders-ZIbf571s.js","assets/Orders-D-AzowRR.css","assets/Observability-CBet40wF.js","assets/HotReload-lJeEjduf.js","assets/ReadModelSync-CPgLMxhq.js","assets/Settings-DSO1GXbZ.js","assets/Settings-DzYu-rwF.css"])))=>i.map(i=>d[i]);
import{ab as V,r as D,a as E,k as w,ac as T,q as C,C as l,u as a,ad as $,L as p,a4 as b,x as O,n as y,v as _,c as P,t as L,w as A,o as g,ae as x,af as N,ag as q,ah as M}from"./vue-DxbRKzch.js";import{c as B}from"./vuestic-BlKE5WT7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function m(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(t){if(t.ep)return;t.ep=!0;const r=m(t);fetch(t.href,r)}})();const H=V("cart",()=>{const c=D([]),s=E(()=>c.value.reduce((n,o)=>n+o.quantity,0)),m=E(()=>c.value.reduce((n,o)=>n+o.price*o.quantity,0)),h=E(()=>c.value.length===0);function t(n){const o=c.value.find(d=>d.productId===n.id);o?o.quantity++:c.value.push({productId:n.id,name:n.name,price:n.price,quantity:1,image:n.image})}function r(n){const o=c.value.findIndex(d=>d.productId===n);o>-1&&c.value.splice(o,1)}function u(n,o){const d=c.value.find(f=>f.productId===n);d&&(o<=0?r(n):d.quantity=o)}function e(){c.value=[]}return{items:c,count:s,total:m,isEmpty:h,addItem:t,removeItem:r,updateQuantity:u,clear:e}}),U={class:"app-container"},W={class:"header-content"},j={class:"header-left"},z={class:"brand-name"},F={key:0,class:"header-nav"},Q={key:1,class:"header-nav"},G={class:"header-right"},K={class:"main-content"},J=w({__name:"App",setup(c){const s=$(),m=T(),h=H(),t=E(()=>m.path.startsWith("/admin")),r=E(()=>!t.value);return(u,e)=>{const n=b("va-icon"),o=b("va-badge"),d=b("va-button"),f=b("router-view");return g(),C("div",U,[l("header",{class:y(["top-header",{"admin-header":t.value}])},[l("div",W,[l("div",j,[l("div",{class:"brand",onClick:e[0]||(e[0]=i=>a(s).push(t.value?"/admin":"/"))},[p(n,{name:t.value?"admin_panel_settings":"storefront",size:"1.5rem"},null,8,["name"]),l("span",z,O(t.value?"OrderSystem Admin":"OrderSystem"),1)])]),r.value?(g(),C("nav",F,[l("a",{class:y(["nav-link",{active:a(m).path==="/"}]),onClick:e[1]||(e[1]=i=>a(s).push("/"))},[p(n,{name:"store",class:"mr-1"}),e[10]||(e[10]=_(" 商品 ",-1))],2),l("a",{class:y(["nav-link",{active:a(m).path==="/my-orders"}]),onClick:e[2]||(e[2]=i=>a(s).push("/my-orders"))},[p(n,{name:"receipt_long",class:"mr-1"}),e[11]||(e[11]=_(" 我的订单 ",-1))],2)])):(g(),C("nav",Q,[l("a",{class:y(["nav-link",{active:a(m).path==="/admin"}]),onClick:e[3]||(e[3]=i=>a(s).push("/admin"))},[p(n,{name:"dashboard",class:"mr-1"}),e[12]||(e[12]=_(" 仪表盘 ",-1))],2),l("a",{class:y(["nav-link",{active:a(m).path==="/admin/orders"}]),onClick:e[4]||(e[4]=i=>a(s).push("/admin/orders"))},[p(n,{name:"list_alt",class:"mr-1"}),e[13]||(e[13]=_(" 订单 ",-1))],2),l("a",{class:y(["nav-link",{active:a(m).path==="/admin/observability"}]),onClick:e[5]||(e[5]=i=>a(s).push("/admin/observability"))},[p(n,{name:"monitoring",class:"mr-1"}),e[14]||(e[14]=_(" 可观测性 ",-1))],2),l("a",{class:y(["nav-link",{active:a(m).path==="/admin/hotreload"}]),onClick:e[6]||(e[6]=i=>a(s).push("/admin/hotreload"))},[p(n,{name:"autorenew",class:"mr-1"}),e[15]||(e[15]=_(" 热重载 ",-1))],2),l("a",{class:y(["nav-link",{active:a(m).path==="/admin/readmodelsync"}]),onClick:e[7]||(e[7]=i=>a(s).push("/admin/readmodelsync"))},[p(n,{name:"sync",class:"mr-1"}),e[16]||(e[16]=_(" 读模型 ",-1))],2)])),l("div",G,[r.value?(g(),P(d,{key:0,preset:"secondary",class:"cart-btn",onClick:e[8]||(e[8]=i=>a(s).push("/cart"))},{default:A(()=>[p(n,{name:"shopping_cart"}),a(h).count>0?(g(),P(o,{key:0,text:String(a(h).count),color:"danger",class:"cart-badge"},null,8,["text"])):L("",!0)]),_:1})):L("",!0),p(d,{preset:"secondary",onClick:e[9]||(e[9]=i=>a(s).push(t.value?"/":"/admin"))},{default:A(()=>[p(n,{name:t.value?"store":"admin_panel_settings",class:"mr-1"},null,8,["name"]),_(" "+O(t.value?"商城":"管理"),1)]),_:1}),p(d,{preset:"secondary",href:"https://github.com/Cricle/Catga",target:"_blank"},{default:A(()=>[p(n,{name:"code"})]),_:1})])])],2),l("main",K,[p(f)]),e[17]||(e[17]=l("footer",{class:"app-footer"},[l("p",null,[_("Powered by "),l("strong",null,"Catga CQRS Framework"),_(" | "),l("a",{href:"https://github.com/Cricle/Catga",target:"_blank"},"GitHub")])],-1))])}}}),X="modulepreload",Y=function(c){return"/"+c},R={},v=function(s,m,h){let t=Promise.resolve();if(m&&m.length>0){let n=function(o){return Promise.all(o.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),e=u?.nonce||u?.getAttribute("nonce");t=n(m.map(o=>{if(o=Y(o),o in R)return;R[o]=!0;const d=o.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":X,d||(i.as="script"),i.crossOrigin="",i.href=o,e&&i.setAttribute("nonce",e),document.head.appendChild(i),d)return new Promise((I,S)=>{i.addEventListener("load",I),i.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(u){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=u,window.dispatchEvent(e),!e.defaultPrevented)throw u}return t.then(u=>{for(const e of u||[])e.status==="rejected"&&r(e.reason);return s().catch(r)})},Z=[{path:"/",name:"Shop",component:()=>v(()=>import("./Shop-DKUrxt0j.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/cart",name:"Cart",component:()=>v(()=>import("./Cart-BiMDav7H.js"),__vite__mapDeps([6,1,3,4]))},{path:"/checkout",name:"Checkout",component:()=>v(()=>import("./Checkout-DsU4yjzP.js"),__vite__mapDeps([7,1,8,9,10,3,4]))},{path:"/my-orders",name:"MyOrders",component:()=>v(()=>import("./MyOrders-DOCSMjQ3.js"),__vite__mapDeps([11,1,8,9,10,2,12]))},{path:"/my-orders/:id",name:"MyOrderDetail",component:()=>v(()=>import("./MyOrders-DOCSMjQ3.js"),__vite__mapDeps([11,1,8,9,10,2,12]))},{path:"/admin",name:"AdminDashboard",component:()=>v(()=>import("./Dashboard-BD1t77L6.js"),__vite__mapDeps([13,8,1,9,10,2,14]))},{path:"/admin/orders",name:"AdminOrders",component:()=>v(()=>import("./Orders-ZIbf571s.js"),__vite__mapDeps([15,8,1,9,10,2,16]))},{path:"/admin/orders/:id",name:"AdminOrderDetail",component:()=>v(()=>import("./Orders-ZIbf571s.js"),__vite__mapDeps([15,8,1,9,10,2,16]))},{path:"/admin/observability",name:"AdminObservability",component:()=>v(()=>import("./Observability-CBet40wF.js"),__vite__mapDeps([17,9,10,1]))},{path:"/admin/hotreload",name:"AdminHotReload",component:()=>v(()=>import("./HotReload-lJeEjduf.js"),__vite__mapDeps([18,9,10,1]))},{path:"/admin/readmodelsync",name:"AdminReadModelSync",component:()=>v(()=>import("./ReadModelSync-CPgLMxhq.js"),__vite__mapDeps([19,9,10,1]))},{path:"/admin/settings",name:"AdminSettings",component:()=>v(()=>import("./Settings-DSO1GXbZ.js"),__vite__mapDeps([20,10,1,2,21]))}],ee=x({history:N(),routes:Z}),k=q(J);k.use(M());k.use(ee);k.use(B());k.mount("#app");export{H as u};
