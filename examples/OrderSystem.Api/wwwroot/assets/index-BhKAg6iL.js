import{ah as P,r as l,a as w}from"./vue-b2tVlrm7.js";import{a as r}from"./index-qEU9UwJ9.js";const x=P("order",()=>{const u=l([]),d=l(null),f=l(null),s=l(!1),c=l(null),y=w(()=>u.value.filter(a=>a.status===0)),v=w(()=>u.value.filter(a=>a.status>=1&&a.status<=3));async function o(a,e=100){s.value=!0,c.value=null;try{u.value=await r.getOrders(a,e)}catch(t){c.value=t.message}finally{s.value=!1}}async function n(){try{d.value=await r.getStats()}catch(a){console.error("Failed to fetch stats:",a)}}async function i(a){s.value=!0;try{f.value=await r.getOrder(a)}catch(e){c.value=e.message}finally{s.value=!1}}async function O(a,e){s.value=!0;try{const t=await r.createOrder(a,e);return await o(),await n(),t}catch(t){throw c.value=t.message,t}finally{s.value=!1}}async function h(a,e){s.value=!0;try{const t=await r.createOrderWithFlow(a,e);return await o(),await n(),t}catch(t){throw c.value=t.message,t}finally{s.value=!1}}async function g(a,e,t){await r.payOrder(a,e,t),await i(a),await n()}async function p(a){await r.processOrder(a),await i(a),await n()}async function m(a,e){await r.shipOrder(a,e),await i(a),await n()}async function S(a){await r.deliverOrder(a),await i(a),await n()}async function F(a,e){await r.cancelOrder(a,e),await i(a),await n()}return{orders:u,stats:d,currentOrder:f,loading:s,error:c,pendingOrders:y,activeOrders:v,fetchOrders:o,fetchStats:n,fetchOrder:i,createOrder:O,createOrderWithFlow:h,payOrder:g,processOrder:p,shipOrder:m,deliverOrder:S,cancelOrder:F}}),D={0:"Pending",1:"Paid",2:"Processing",3:"Shipped",4:"Delivered",5:"Cancelled",6:"Refunded",7:"Failed"},N={0:"warning",1:"info",2:"secondary",3:"primary",4:"success",5:"danger",6:"danger",7:"danger"};export{N as S,D as a,x as u};
