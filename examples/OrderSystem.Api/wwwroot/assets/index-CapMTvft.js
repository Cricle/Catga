const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Shop--nvHbH1D.js","assets/vue-D6N10Y6x.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/vuestic-w94gXuKD.js","assets/vuestic-D3AENMiY.css","assets/Shop-OtFnXT3i.css","assets/Cart-We1GHZa9.js","assets/order-BnhFdJ91.js","assets/Cart-C8qDgags.css","assets/Orders-DjZXp8ki.js","assets/Orders-DmS41x-y.css"])))=>i.map(i=>d[i]);
import{ab as R,r as N,a as b,k as V,v as _,C as l,x as E,u as f,ac as q,L as h,a4 as C,F as P,D as S,y as L,ad as $,o as v,n as w,c as x,z as I,ae as B,af as D,ag as T,ah as z}from"./vue-D6N10Y6x.js";import{c as F}from"./vuestic-w94gXuKD.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&d(s)}).observe(document,{childList:!0,subtree:!0});function p(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=p(t);fetch(t.href,r)}})();const M=R("cart",()=>{const c=N([]),u=b(()=>c.value.reduce((n,e)=>n+e.quantity,0)),p=b(()=>c.value.reduce((n,e)=>n+e.price*e.quantity,0)),d=b(()=>c.value.length===0);function t(n){const e=c.value.find(a=>a.productId===n.id);e?e.quantity++:c.value.push({productId:n.id,name:n.name,price:n.price,quantity:1,image:n.image})}function r(n){const e=c.value.findIndex(a=>a.productId===n);e>-1&&c.value.splice(e,1)}function s(n,e){const a=c.value.find(m=>m.productId===n);a&&(e<=0?r(n):a.quantity=e)}function i(){c.value=[]}return{items:c,count:u,total:p,isEmpty:d,addItem:t,removeItem:r,updateQuantity:s,clear:i}}),U={class:"app"},j={class:"header"},Q={class:"header-inner"},W={class:"nav-desktop"},H=["onClick"],K={key:0,class:"nav-mobile"},G=["onClick"],J={class:"main"},X=V({__name:"App",setup(c){const u=q(),p=$(),d=M(),t=N(!1),r=[{path:"/",icon:"store",label:"商品"},{path:"/cart",icon:"shopping_cart",label:"购物车"},{path:"/orders",icon:"receipt",label:"订单"}],s=i=>p.path===i;return(i,n)=>{const e=C("va-icon"),a=C("va-badge"),m=C("router-view");return v(),_("div",U,[l("header",j,[l("div",Q,[l("div",{class:"logo",onClick:n[0]||(n[0]=o=>f(u).push("/"))},[h(e,{name:"storefront",size:"1.5rem"}),n[2]||(n[2]=l("span",null,"OrderSystem",-1))]),l("nav",W,[(v(),_(P,null,S(r,o=>l("a",{key:o.path,class:w(["nav-item",{active:s(o.path)}]),onClick:g=>f(u).push(o.path)},[h(e,{name:o.icon},null,8,["name"]),l("span",null,I(o.label),1),o.path==="/cart"&&f(d).count>0?(v(),x(a,{key:0,text:String(f(d).count),color:"danger",class:"cart-badge"},null,8,["text"])):E("",!0)],10,H)),64))]),l("button",{class:"menu-btn",onClick:n[1]||(n[1]=o=>t.value=!t.value)},[h(e,{name:t.value?"close":"menu",size:"1.5rem"},null,8,["name"])])])]),t.value?(v(),_("nav",K,[(v(),_(P,null,S(r,o=>l("a",{key:o.path,class:w(["nav-item",{active:s(o.path)}]),onClick:g=>{f(u).push(o.path),t.value=!1}},[h(e,{name:o.icon},null,8,["name"]),l("span",null,I(o.label),1),o.path==="/cart"&&f(d).count>0?(v(),x(a,{key:0,text:String(f(d).count),color:"danger"},null,8,["text"])):E("",!0)],10,G)),64))])):E("",!0),l("main",J,[h(m)]),n[3]||(n[3]=l("footer",{class:"footer"},[l("p",null,[L("Powered by "),l("strong",null,"Catga"),L(" CQRS Framework")])],-1))])}}}),Y="modulepreload",Z=function(c){return"/"+c},O={},k=function(u,p,d){let t=Promise.resolve();if(p&&p.length>0){let n=function(e){return Promise.all(e.map(a=>Promise.resolve(a).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=s?.nonce||s?.getAttribute("nonce");t=n(p.map(e=>{if(e=Z(e),e in O)return;O[e]=!0;const a=e.endsWith(".css"),m=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${m}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":Y,a||(o.as="script"),o.crossOrigin="",o.href=e,i&&o.setAttribute("nonce",i),document.head.appendChild(o),a)return new Promise((g,A)=>{o.addEventListener("load",g),o.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${e}`)))})}))}function r(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return t.then(s=>{for(const i of s||[])i.status==="rejected"&&r(i.reason);return u().catch(r)})},ee=[{path:"/",component:()=>k(()=>import("./Shop--nvHbH1D.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/cart",component:()=>k(()=>import("./Cart-We1GHZa9.js"),__vite__mapDeps([6,1,7,2,3,4,8]))},{path:"/orders",component:()=>k(()=>import("./Orders-DjZXp8ki.js"),__vite__mapDeps([9,1,7,2,10]))}],te=B({history:D(),routes:ee}),y=T(X);y.use(z());y.use(te);y.use(F());y.mount("#app");export{M as u};
