const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Shop-DW0X83q0.js","assets/vue-u7mJywCV.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/vuestic-BDyIGwgF.js","assets/vuestic-D3AENMiY.css","assets/Shop-DdV-swMK.css","assets/Cart-D856U1dF.js","assets/order-RrLd4p2a.js","assets/Cart-BK15_h6T.css","assets/Orders-7MNDWKnH.js","assets/Orders-CtxlC3fF.css"])))=>i.map(i=>d[i]);
import{ab as N,r as k,a as E,k as $,q,L as r,C,w as u,a4 as v,c as x,t as L,ac as A,ad as R,o as P,u as f,v as I,ae as V,af as B,ag as T,ah as D}from"./vue-u7mJywCV.js";import{c as U}from"./vuestic-BDyIGwgF.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))_(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const e of s.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&_(e)}).observe(document,{childList:!0,subtree:!0});function p(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function _(n){if(n.ep)return;n.ep=!0;const s=p(n);fetch(n.href,s)}})();const j=N("cart",()=>{const i=k([]),l=E(()=>i.value.reduce((o,t)=>o+t.quantity,0)),p=E(()=>i.value.reduce((o,t)=>o+t.price*t.quantity,0)),_=E(()=>i.value.length===0);function n(o){const t=i.value.find(c=>c.productId===o.id);t?t.quantity++:i.value.push({productId:o.id,name:o.name,price:o.price,quantity:1,image:o.image})}function s(o){const t=i.value.findIndex(c=>c.productId===o);t>-1&&i.value.splice(t,1)}function e(o,t){const c=i.value.find(m=>m.productId===o);c&&(t<=0?s(o):c.quantity=t)}function a(){i.value=[]}return{items:i,count:l,total:p,isEmpty:_,addItem:n,removeItem:s,updateQuantity:e,clear:a}}),M={class:"layout"},W={class:"main"},F={class:"content"},H=$({__name:"App",setup(i){const l=A(),p=R(),_=j(),n=k(!0);return(s,e)=>{const a=v("va-icon"),o=v("va-button"),t=v("va-badge"),c=v("va-navbar"),m=v("va-sidebar-item-title"),d=v("va-sidebar-item-content"),y=v("va-sidebar-item"),h=v("va-sidebar"),O=v("router-view");return P(),q("div",M,[r(c,{color:"primary"},{left:u(()=>[r(o,{preset:"secondary",color:"textInverted",onClick:e[0]||(e[0]=b=>n.value=!n.value)},{default:u(()=>[r(a,{name:"menu"})]),_:1}),e[6]||(e[6]=C("span",{class:"title"},"OrderSystem",-1))]),right:u(()=>[r(o,{preset:"secondary",color:"textInverted",onClick:e[1]||(e[1]=b=>f(l).push("/cart"))},{default:u(()=>[r(a,{name:"shopping_cart"}),f(_).count>0?(P(),x(t,{key:0,text:String(f(_).count),color:"danger"},null,8,["text"])):L("",!0)]),_:1}),r(o,{preset:"secondary",color:"textInverted",onClick:e[2]||(e[2]=b=>f(l).push("/orders"))},{default:u(()=>[r(a,{name:"receipt"})]),_:1})]),_:1}),C("div",W,[n.value?(P(),x(h,{key:0,class:"sidebar"},{default:u(()=>[r(y,{active:f(p).path==="/",onClick:e[3]||(e[3]=b=>f(l).push("/"))},{default:u(()=>[r(d,null,{default:u(()=>[r(a,{name:"store"}),r(m,null,{default:u(()=>[...e[7]||(e[7]=[I("商品",-1)])]),_:1})]),_:1})]),_:1},8,["active"]),r(y,{active:f(p).path==="/cart",onClick:e[4]||(e[4]=b=>f(l).push("/cart"))},{default:u(()=>[r(d,null,{default:u(()=>[r(a,{name:"shopping_cart"}),r(m,null,{default:u(()=>[...e[8]||(e[8]=[I("购物车",-1)])]),_:1})]),_:1})]),_:1},8,["active"]),r(y,{active:f(p).path==="/orders",onClick:e[5]||(e[5]=b=>f(l).push("/orders"))},{default:u(()=>[r(d,null,{default:u(()=>[r(a,{name:"receipt"}),r(m,null,{default:u(()=>[...e[9]||(e[9]=[I("我的订单",-1)])]),_:1})]),_:1})]),_:1},8,["active"])]),_:1})):L("",!0),C("div",F,[r(O)])])])}}}),K="modulepreload",Q=function(i){return"/"+i},S={},w=function(l,p,_){let n=Promise.resolve();if(p&&p.length>0){let o=function(t){return Promise.all(t.map(c=>Promise.resolve(c).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");n=o(p.map(t=>{if(t=Q(t),t in S)return;S[t]=!0;const c=t.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":K,c||(d.as="script"),d.crossOrigin="",d.href=t,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((y,h)=>{d.addEventListener("load",y),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})}))}function s(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return n.then(e=>{for(const a of e||[])a.status==="rejected"&&s(a.reason);return l().catch(s)})},z=[{path:"/",component:()=>w(()=>import("./Shop-DW0X83q0.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/cart",component:()=>w(()=>import("./Cart-D856U1dF.js"),__vite__mapDeps([6,1,7,2,3,4,8]))},{path:"/orders",component:()=>w(()=>import("./Orders-7MNDWKnH.js"),__vite__mapDeps([9,7,1,2,10]))}],G=V({history:B(),routes:z}),g=T(H);g.use(D());g.use(G);g.use(U());g.mount("#app");export{j as u};
