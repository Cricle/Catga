import{ah as W,r as i,a as v}from"./vue-C5tvXR9f.js";import{a as t}from"./index-DzZRbFal.js";const j=W("order",()=>{const u=i([]),o=i(null),w=i(null),r=i(!1),c=i(null),O=v(()=>u.value.filter(a=>a.status===0)),d=v(()=>u.value.filter(a=>a.status>=1&&a.status<=3));async function f(a=100,e){r.value=!0,c.value=null;try{return u.value=await t.getOrders(e,a),u.value}catch(n){return c.value=n.message,[]}finally{r.value=!1}}async function s(){try{return o.value=await t.getStats(),o.value}catch(a){return console.error("Failed to fetch stats:",a),null}}async function l(a){r.value=!0;try{w.value=await t.getOrder(a)}catch(e){c.value=e.message}finally{r.value=!1}}async function y(a){r.value=!0;try{const e=await t.createOrder(a.customerId,a.items);return await f(),await s(),e}catch(e){throw c.value=e.message,e}finally{r.value=!1}}async function h(a,e){r.value=!0;try{const n=await t.createOrderWithFlow(a,e);return await f(),await s(),n}catch(n){throw c.value=n.message,n}finally{r.value=!1}}async function p(a,e,n){await t.payOrder(a,e,n),await l(a),await s()}async function m(a){await t.processOrder(a),await l(a),await s()}async function g(a,e){await t.shipOrder(a,e),await l(a),await s()}async function S(a){await t.deliverOrder(a),await l(a),await s()}async function F(a,e){await t.cancelOrder(a,e),await l(a),await s()}return{orders:u,stats:o,currentOrder:w,loading:r,error:c,pendingOrders:O,activeOrders:d,fetchOrders:f,fetchStats:s,fetchOrder:l,createOrder:y,createOrderWithFlow:h,payOrder:p,processOrder:m,shipOrder:g,deliverOrder:S,cancelOrder:F}});export{j as u};
